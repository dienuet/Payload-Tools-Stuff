function AdfDhtmlZOrderManager(){this.Init()}AdfObject.createSubclass(AdfDhtmlZOrderManager);
AdfDhtmlZOrderManager.InitClass=function(){var a=["__af_Z_maskingframe","__af_Z_window","__af_Z_tooltip"];this.LAYERCONTAINER="DhtmlZOrderManagerLayerContainer";this.FLOATINGTYPE_WINDOW=a[1];this.FLOATINGTYPE_TOOLTIP=a[2];this.FLOATINGTYPE_MASKINGFRAME=a[0];this.LAYERIDS=a;this._LAYER_CONTAINER_STYLECLASS="AFZOrderLayerContainer";this.LAYER_STYLECLASS="AFZOrderLayer";this._MAXZ=Math.pow(2,31)-2;this._SHADOWDECORATORZINDEX=3;this._BLANK_PAGE_RESOURCE="about:blank";this._FORM_ID_EXPANDO="data-afr-fid";
this._INUSE_EXPANDO="data-afr-inuse"};AdfDhtmlZOrderManager.prototype.Init=function(){AdfDhtmlZOrderManager.superclass.Init.call(this);this._layerHash={};this._isGecko=AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM};AdfDhtmlZOrderManager.getMaxZIndex=function(){return AdfDhtmlZOrderManager._MAXZ};AdfDhtmlZOrderManager.prototype.dispose=function(){this._layerHash=null};
AdfDhtmlZOrderManager.prototype.addElementToLayer=function(a,b,d,e){this._assertLayers(e);b=e?AdfRichUIPeer.createSubId(e,b):b;this._getLayer(b).addElement(a,d)};AdfDhtmlZOrderManager.prototype.raiseToFront=function(a){var b=a.parentNode,d=b.parentNode.getAttribute(AdfDhtmlZOrderManager._FORM_ID_EXPANDO);this._assertLayers(d);b=b.getAttribute("id");AdfAssert.assertNonEmptyString(b);(b=this._getLayer(b))&&b.raiseToFront(a);AdfPopupScopingUtils.scope(a)};
AdfDhtmlZOrderManager._createMapSafeKey=function(a){AdfAssert.assertString(a);return a.split(":").join("$")+"$key"};AdfDhtmlZOrderManager.prototype._getLayer=function(a){a=AdfDhtmlZOrderManager._createMapSafeKey(a);var b=this._layerHash[a];return b&&!b.getContainerElement()?(delete this._layerHash[a],null):b};AdfDhtmlZOrderManager.prototype._setLayer=function(a,b){var d=AdfDhtmlZOrderManager._createMapSafeKey(a);this._layerHash[d]=b};
AdfDhtmlZOrderManager.prototype._createLayers=function(a){var b=AdfDhtmlZOrderManager.LAYERIDS,d=AdfDhtmlZOrderManager.LAYERCONTAINER,d=a?AdfRichUIPeer.createSubId(a,d):d,d=this._createLayerElement(d);AdfDomUtils.addCSSClassName(d,AdfDhtmlZOrderManager._LAYER_CONTAINER_STYLECLASS);a&&d.setAttribute(AdfDhtmlZOrderManager._FORM_ID_EXPANDO,a);for(var e=AdfDhtmlZOrderManager.LAYER_STYLECLASS,f=0;f<b.length;f++){var g=a?AdfRichUIPeer.createSubId(a,b[f]):b[f],h=this._createLayerElement(g),g=new AdfDhtmlZOrderLayer(g);
this._addLayer(d,g,h);AdfDomUtils.addCSSClassName(h,e)}this._positionLayerContainer(d);return d};AdfDhtmlZOrderManager.prototype._createLayerElement=function(a){var b=this._getLayer(a);if(b)return b.getContainerElement();b=AdfPage.PAGE.getDomDocument().createElement("div");b.setAttribute("id",a);b.style.zIndex=AdfDhtmlZOrderManager._MAXZ;return b};AdfDhtmlZOrderManager.prototype._addLayer=function(a,b,d){var e=b.getId();this._setLayer(e,b);a.appendChild(d);AdfAgent.AGENT.elementsAdded(a)};
AdfDhtmlZOrderManager.prototype._assertLayers=function(a){var b=this._getLayerContainer(a);b||(b=this._createLayers(a));AdfDhtmlZOrderManager._getFormOrBody(a).lastChild!=b&&this._repairLayers(b)};AdfDhtmlZOrderManager.prototype._repairLayers=function(a){var b=a.getAttribute(AdfDhtmlZOrderManager._FORM_ID_EXPANDO),b=AdfDhtmlZOrderManager._getFormOrBody(b);a.parentNode!=b?this._positionLayerContainer(a):(b.removeChild(a),b.appendChild(a))};
AdfDhtmlZOrderManager.prototype._positionLayerContainer=function(a){var b=a.getAttribute(AdfDhtmlZOrderManager._FORM_ID_EXPANDO),b=AdfDhtmlZOrderManager._getFormOrBody(b);a.parentNode!=b&&(b.appendChild(a),AdfAgent.AGENT.elementsAdded(a))};AdfDhtmlZOrderManager.prototype.containsElement=function(a){if(null==a)return!1;var b=AdfDhtmlZOrderManager.LAYERCONTAINER;for(a=a.parentNode;a;a=a.parentNode)if(1==a.nodeType){var d=a.getAttribute("id");if(d){var d=d.split(":"),e=d.length;if(1<e&&b==d[e-1])return!0}}return!1};
AdfDhtmlZOrderManager.prototype.getElementCount=function(){var a=0,b=this._layerHash;for(id in b){var d=b[id];d&&d.getContainerElement()&&(a+=d.getContainerElementCount())}return a};AdfDhtmlZOrderManager.prototype.removeElement=function(a){if(a.parentNode){AdfPopupScopingUtils.unscope(a);var b=a.parentNode.getAttribute("id");AdfAssert.assertNonEmptyString(b);b=this._getLayer(b);AdfAssert.assertObject(b);b.removeElement(a)}};
AdfDhtmlZOrderManager.prototype._getLayerContainer=function(a){var b=AdfDhtmlZOrderManager.LAYERCONTAINER;a=a?AdfRichUIPeer.createSubId(a,b):b;return AdfAgent.AGENT.getElementById(a)};AdfDhtmlZOrderManager._getFormOrBody=function(a){return(a=AdfAgent.AGENT.getElementById(a))?a:AdfPage.PAGE.getDomDocument().body};
AdfDhtmlZOrderManager.prototype.prepareMaskingFrame=function(a){var b;if(a){var d=AdfDhtmlZOrderManager.LAYERCONTAINER;for(a=a.parentNode;a;a=a.parentNode)if(1==a.nodeType){var e=a.getAttribute("id");if(e){var e=e.split(":"),f=e.length;if(1<f&&e[f-1]==d){b=a.getAttribute(AdfDhtmlZOrderManager._FORM_ID_EXPANDO);break}}}}this._assertLayers(b);a=AdfDhtmlZOrderManager.FLOATINGTYPE_MASKINGFRAME;d=b?AdfRichUIPeer.createSubId(b,a):a;d=this._getLayer(d);delete d._unusedMaskingFrame;d.visitElements(AdfDhtmlZOrderManager._findMaskingFramesInUse);
e=d._unusedMaskingFrame;delete d._unusedMaskingFrame;e||(e=this._isGecko?"DIV":"IFRAME",e=d.getContainerElement().ownerDocument.createElement(e),this.removeMaskingFrame(e),"IFRAME"==e.tagName&&(e.src=AdfDhtmlZOrderManager._BLANK_PAGE_RESOURCE,e.setAttribute("aria-hidden",!0)),e.setAttribute(AdfDhtmlZOrderManager._INUSE_EXPANDO,!1),this.addElementToLayer(e,a,null,b));return e};
AdfDhtmlZOrderManager._findMaskingFramesInUse=function(a,b){return"false"==b.getAttribute(AdfDhtmlZOrderManager._INUSE_EXPANDO)?(a._unusedMaskingFrame=b,!0):!1};AdfDhtmlZOrderManager.prototype.createMaskingFrame=function(a){a=this.prepareMaskingFrame(a);a.setAttribute(AdfDhtmlZOrderManager._INUSE_EXPANDO,!0);a.style.zIndex=1;return a};
AdfDhtmlZOrderManager.prototype.removeMaskingFrame=function(a){a.frameBorder="0";a.className="AFMaskingFrame";var b=a.style;b.visibility="hidden";b.width="0px";b.height="0px";b.left="0px";b.top="0px";b.zIndex=0;a.setAttribute(AdfDhtmlZOrderManager._INUSE_EXPANDO,!1)};AdfObject.ensureClassInitialization(AdfDhtmlZOrderManager);
function AdfAutoDismissalManager(){this.Init()}AdfObject.createSubclass(AdfAutoDismissalManager);AdfAutoDismissalManager.prototype.Init=function(){AdfAutoDismissalManager.superclass.Init.call(this);this._componentStack=[];this._defaultPopupTimeout=500};AdfAutoDismissalManager.prototype.getBehaviorCount=function(){return this._componentStack.length};AdfAutoDismissalManager.prototype.dispose=function(){this.closeAll();this._unregisterEventHandlers()};
AdfAutoDismissalManager.prototype.addBehavior=function(a,b){if(!this.hasComponent(a,b)){var d=b[AdfDhtmlPopupHints.AUTODISMISS];switch(d){case AdfDhtmlPopupHints.AUTODISMISS_MENU:case AdfDhtmlPopupHints.AUTODISMISS_ALWAYS:case AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT:case AdfDhtmlPopupHints.AUTODISMISS_INACTIVATE:case AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT:this._addComponent(a,d,b)}}};
AdfAutoDismissalManager.prototype.removeBehavior=function(a,b){var d=a.getClientId(),e=this._componentStack;b||(b=d);for(var f=0;f<e.length;f++){var g=e[f];if(g){var h=g.id,g=g.popupId?g.popupId:d;if(h==d&&g==b){if(a instanceof AdfRichPopup)for(d=e.length-1;d>f;d--){var k=e[d];k&&(g=k.id,page.findComponent(g).isDescendant(a)&&(k=k.dismissalBehavior,AdfAssert.assertFunction(k),AdfLogger.LOGGER.logMessage(AdfLogger.FINE,"force autodismissal for descendant popupId: '"+g+"' of parent popupId: '"+h+"'"),
k(d)))}AdfLogger.LOGGER.logMessage(AdfLogger.FINE,"unregistering autodismissal for popupId: '"+h+"'");e.splice(f,1);0==e.length&&this._unregisterEventHandlers();break}}}};AdfAutoDismissalManager.prototype.changeBehavior=function(a,b){for(var d=a.getClientId(),e=this._componentStack,f=e.length,g=b[AdfDhtmlPopupHints.AUTODISMISS],h=0;h<f;h++){var k=e[h];if(k.id==d){k.type=g;break}}};AdfAutoDismissalManager.prototype.hasComponents=function(){return 0<this._componentStack.length};
AdfAutoDismissalManager.prototype.hasComponent=function(a,b){for(var d=a.getClientId(),e=this._componentStack,f=e.length,g=0;g<f;g++)if(e[g].id==d)if(b.popupId){if(e[g].popupId==b.popupId)return!0}else return!0;return!1};AdfAutoDismissalManager.prototype.closeAll=function(){for(var a=AdfPage.PAGE,b=this._componentStack,d=b.length-1;-1<d;d--){var e,f=a.findComponent(b[d].id);f&&(e=f.getPeer())&&e.cancelAllPopups(f,!0)}AdfCollections.clearArray(b)};
AdfAutoDismissalManager.prototype._addComponent=function(a,b,d){var e=a.getClientId(),f=AdfPage.PAGE,g=this._componentStack;if(!(a instanceof AdfRichDocument))for(var h=g.length-1;0<=h;h--){var k=g[h];if(k){var l=f.findComponent(k.id);e==k.id||a.isDescendant(l)||(k=k.dismissalBehavior,AdfAssert.assertFunction(k),k(h))}}a={};a.id=e;a.type=b;a[AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT_ID]=d[AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT_ID];a[AdfRichPopup.HINT_LAUNCH_ID]=d[AdfRichPopup.HINT_LAUNCH_ID];a.popupId=
d.popupId?d.popupId:e;b==AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT?(a.dismissalBehavior=this.createCallback(this._cancelTimeoutDismissalBehavior),b={stackObj:a,myself:this},a.timer=f.scheduleTimer(this,AdfAutoDismissalManager._timeoutDismissalBehavior,b,d[AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT])):(a.dismissalBehavior=b==AdfDhtmlPopupHints.AUTODISMISS_INACTIVATE?this.createCallback(this._inactivateDismissalBehavior):this.createCallback(this._hideDismissalBehavior),0<d[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT]&&
!d[AdfDhtmlPopupHints.MODAL]&&(a[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT]=d[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT],b={stackObj:a,myself:this},a.timer=f.scheduleTimer(this,AdfAutoDismissalManager._timeoutDismissalBehavior,b,d[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT])));0==g.length&&this._registerEventHandlers();g.push(a)};
AdfAutoDismissalManager.prototype.dismiss=function(a){for(var b=this._componentStack,d=b.length-1;0<=d;d--){var e=b[d];e&&!this._cancelDismissal(a,e)&&(e=e.dismissalBehavior,AdfAssert.assertFunction(e),e(d))}};
AdfAutoDismissalManager.prototype._dismissOnMouseOver=function(a){for(var b=this._componentStack,d=b.length-1;0<=d;d--){var e=b[d];e.type!=AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT&&e.type!=AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT||this._cancelDismissal(a,e)||(e=e.dismissalBehavior,AdfAssert.assertFunction(e),e(d))}};
AdfAutoDismissalManager.prototype._adjustPopupTimeout=function(a){for(var b=this._componentStack,d=AdfPage.PAGE,e=AdfAgent.AGENT.getDomDocument().activeElement,f=b.length-1;0<=f;f--){var g=b[f];g[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT]&&(g.timer&&(this._cancelDismissal(a,g)||this._cancelDismissal(e,g))?(d.cancelTimer(g.timer),delete g.timer):g.timer||this._cancelDismissal(a,g)||this._cancelDismissal(e,g)||(g.timer=d.scheduleTimer(this,AdfAutoDismissalManager._timeoutDismissalBehavior,{stackObj:g,
myself:this},this._defaultPopupTimeout)))}};AdfAutoDismissalManager.prototype.stopPopupDismissTimeout=function(a){a=a.getClientId();for(var b=this._componentStack,d=b.length,e=AdfPage.PAGE,f=0;f<d;f++)b[f].timer&&b[f].id==a&&(e.cancelTimer(b[f].timer),delete b[f].timer)};
AdfAutoDismissalManager.prototype.restartPopupDismissTimeout=function(a){a=a.getClientId();for(var b=this._componentStack,d=b.length,e=AdfPage.PAGE,f=0;f<d;f++)b[f].id==a&&b[f][AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT]&&!b[f].timer&&(b[f].timer=e.scheduleTimer(this,AdfAutoDismissalManager._timeoutDismissalBehavior,{stackObj:b[f],myself:this},this._defaultPopupTimeout))};
AdfAutoDismissalManager.prototype.cancelPopupDismissTimeout=function(a){a=a.getClientId();for(var b=this._componentStack,d=b.length,e=AdfPage.PAGE,f=0;f<d;f++)b[f].id==a&&(b[f].timer&&(e.cancelTimer(b[f].timer),delete b[f].timer),b[f][AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT]&&delete b[f][AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT])};
AdfAutoDismissalManager.prototype._undismissDueToActiveIframe=function(a){for(var b=this._componentStack,d=b.length-1;0<=d;d--){var e=b[d],f=AdfPage.PAGE;if(e.type==AdfDhtmlPopupHints.AUTODISMISS_INACTIVATE){var e=e.id,f=f.findComponent(e),g=f.getPeer();g.bind(f);f=g.getAllPopups(f);if(null!=f&&(e=f[e])&&(f=e.getElement(),AdfDomUtils.isAncestor(f,a))){e.handleActivate(!1);break}}else this.dismiss(a)}};
AdfAutoDismissalManager.prototype._cancelDismissal=function(a,b){var d=b[AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT_ID],e=b[AdfRichPopup.HINT_LAUNCH_ID],f=AdfPage.PAGE.findComponent(b.id),g=f.getPeer();g.bind(f);g=g.getAllPopups(f);if(null==g)return!1;var h=this._isTargetInPopup(a,g),k;switch(b.type){case AdfDhtmlPopupHints.AUTODISMISS_ALWAYS:k=h;!k&&e&&AdfDomUtils.isAncestorOrSelf(AdfAgent.AGENT.getElementById(e),a)&&(k=!0);k||this._isPopupAboveTopGlassPane(f)||(k=!0);break;case AdfDhtmlPopupHints.AUTODISMISS_MENU:k=
h||this._isTargetInOwner(a,f);break;case AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT:k=d?h||AdfDomUtils.isAncestorOrSelf(AdfAgent.AGENT.getElementById(d),a):h||this._isTargetInOwner(a,f);break;case AdfDhtmlPopupHints.AUTODISMISS_INACTIVATE:k=h;break;case AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT:k=!this._isTargetInPopup(a,g)}return k};
AdfAutoDismissalManager.prototype._isTargetInPopup=function(a,b){var d=null,e;for(e in b){var f=b[e];if(f.getElement){f=f.getElement();if(AdfDomUtils.isAncestorOrSelf(f,a))return!0;null==d&&(d=this._getContainingComponent(a));if(e&&this._isComponentAncestor(e,d))return!0}}return!1};
AdfAutoDismissalManager.prototype._getContainingComponent=function(a){for(var b=AdfPage.PAGE;a;){var d=a.id;d||1!=a.nodeType||(d=a.getAttribute(AdfDhtmlPopupWindow.__POPUPID_EXPANDO));if(d=d?b.findComponent(d):null)return d;a=a.parentNode}return null};AdfAutoDismissalManager.prototype._isComponentAncestor=function(a,b){for(;b;){if(a==b.getClientId())return!0;b=b.getParent()}return!1};
AdfAutoDismissalManager.prototype._isTargetInOwner=function(a,b){var d=b.getPeer();d.bind(b);d=d.getDomElement();return AdfDomUtils.isAncestorOrSelf(d,a)};AdfAutoDismissalManager.prototype._isPopupAboveTopGlassPane=function(a){var b=a.getPeer();b.bind(a);a=b.getDomElement();return AdfPage.PAGE.getModalityManager().isAboveTopGlassPane(a)};
AdfAutoDismissalManager.prototype._inactivateDismissalBehavior=function(a){AdfAssert.assertNumber(a);var b=this._componentStack[a];a=b.popupId;b=AdfPage.PAGE.findComponent(b.id);(a=b.getPeer().getPopupWindow(b,a))&&a instanceof AdfDhtmlSimpleFloat&&(b=AdfDhtmlDialogManager.getInstance(),b.getActiveDialog()==a&&b.deactivateCurrentDialog())};AdfAutoDismissalManager.prototype._hideDismissalBehavior=function(a){AdfAssert.assertNumber(a);a=AdfPage.PAGE.findComponent(this._componentStack[a].id);this._hideComponentPopups(a)};
AdfAutoDismissalManager.prototype._cancelTimeoutDismissalBehavior=function(a){AdfAssert.assertNumber(a);var b=AdfPage.PAGE;a=this._componentStack[a];var d=a.timer;AdfAssert.assertNumber(d);b.cancelTimer(d);a.type=AdfDhtmlPopupHints.AUTODISMISS_MENU;a.dismissalBehavior=this.createCallback(this._hideDismissalBehavior);delete a.timer};
AdfAutoDismissalManager._timeoutDismissalBehavior=function(a){var b=a.stackObj,d=b[AdfDhtmlPopupHints.AUTODISMISS_POPUP_TIMEOUT];if(b.type==AdfDhtmlPopupHints.AUTODISMISS_TIMEOUT||d)a=a.myself,b=AdfPage.PAGE.findComponent(b.id),a._hideComponentPopups(b)};AdfAutoDismissalManager.prototype._hideComponentPopups=function(a){var b=a.getPeer();a instanceof AdfRichMenu?b.cancelPopup():b.cancelAllPopups(a)};
AdfAutoDismissalManager.prototype._registerEventHandlers=function(){var a=AdfAgent.AGENT,b=a.getPlatform()==AdfAgent.IE_PLATFORM,d=a.getPlatform()==AdfAgent.WEBKIT_PLATFORM,e=a.getDomDocument(),f=this._keyupCallback=this.createCallback(this._handleKeyUp);a.addBubbleEventListener(e,"keyup",f);f=this._mousedownCallback=this.createCallback(this._handleMouseDown);a.addBubbleEventListener(e.body,"mousedown",f);f=this._touchStartCallback=this.createCallback(this._handleTouchStart);a.addBubbleEventListener(e.body,
"touchstart",f);b?(b=this._focusinCallback=this.createCallback(this._handleFocusIn),a.addBubbleEventListener(e,"focusin",b)):d?(b=a.getDomWindow(),d=this._blurCallback=this.createCallback(this._handleBlur),a.addBubbleEventListener(b,"blur",d)):(b=this._blurCallback=this.createCallback(this._handleBlur),a.addBubbleEventListener(e,"blur",b));b=this._mouseoverCallback=this.createCallback(this._handleMouseOver);a.addBubbleEventListener(e,"mouseover",b)};
AdfAutoDismissalManager.prototype._unregisterEventHandlers=function(){var a=AdfAgent.AGENT,b=a.getPlatform()==AdfAgent.IE_PLATFORM,d=a.getPlatform()==AdfAgent.WEBKIT_PLATFORM,e=a.getDomDocument(),f=this._keyupCallback;f&&(a.removeBubbleEventListener(e,"keyup",f),delete this._keyupCallback);if(f=this._mousedownCallback)a.removeBubbleEventListener(e.body,"mousedown",f),delete this._mousedownCallback;if(f=this._touchStartCallback)a.removeBubbleEventListener(e.body,"touchstart",f),delete this._touchStartCallback;
if(b){if(b=this._focusinCallback)a.removeBubbleEventListener(e,"focusin",b),delete this._focusinCallback}else if(d){if(b=this._blurCallback)d=a.getDomWindow(),a.removeBubbleEventListener(d,"blur",b)}else if(b=this._blurCallback)a.removeBubbleEventListener(e,"blur",b),delete this._blurCallback;if(b=this._mouseoverCallback)a.removeBubbleEventListener(e,"mouseover",b),delete this._mouseoverCallback};
AdfAutoDismissalManager.prototype._handleFocusIn=function(a){(a=AdfAgent.AGENT.getEventTarget(a))&&"IFRAME"==a.tagName&&this.dismiss(a)};AdfAutoDismissalManager.prototype._handleMouseDown=function(a){AdfAgent.AGENT.isDefaultPrevented(a)||this.dismiss(AdfAgent.AGENT.getEventTarget(a))};AdfAutoDismissalManager.prototype._handleTouchStart=function(a){return this._handleMouseDown(a)};
AdfAutoDismissalManager.prototype._handleKeyUp=function(a){var b=AdfAgent.AGENT;if(b.getKeyCode(a)==AdfKeyStroke.TAB_KEY){var d=b.getEventTarget(a);AdfPage.PAGE.getModalityManager().isAboveTopGlassPane(d)?this.dismiss(d):(b.eatEvent(a),a=AdfDhtmlDialogManager.getInstance(),(dialogWindow=a.getActiveDialog())&&dialogWindow.activate?dialogWindow.activate():a.focusNextModelessDialog())}};
AdfAutoDismissalManager.prototype._handleBlur=function(a){!this._handleBlurTimeout&&(a.target instanceof HTMLDocument||a.target.location)&&(this._handleBlurTimeout=AdfPage.PAGE.scheduleTimer(this,AdfAutoDismissalManager._dismissBlurringElement,{myself:this,blurringElement:a.target},100))};
AdfAutoDismissalManager._dismissBlurringElement=function(a){var b,d=AdfAgent.AGENT.getDomDocument().activeElement;if(d)try{b=d.tagName}catch(e){AdfLogger.LOGGER.logErrorAsInfo(e,"unable to detect the activeElement")}a=a.myself;"IFRAME"!=b&&"BODY"!=b||a._undismissDueToActiveIframe(d);delete this._handleBlurTimeout};AdfAutoDismissalManager.prototype.cancelBlurTimeout=function(){var a=this._handleBlurTimeout;a&&(AdfPage.PAGE.cancelTimer(a),delete this._handleBlurTimeout)};
AdfAutoDismissalManager.prototype._handleMouseOver=function(a){var b=AdfPage.PAGE,d=this._moTimeout;d&&(b.cancelTimer(d),delete this._moTimeout);a={myself:this,lastMOTarget:AdfAgent.AGENT.getEventTarget(a)};this._moTimeout=b.scheduleTimer(this,AdfAutoDismissalManager._handleMouseOverTimeout,a,300)};AdfAutoDismissalManager._handleMouseOverTimeout=function(a){var b=a.myself;a=a.lastMOTarget;b._dismissOnMouseOver(a);b._adjustPopupTimeout(a);delete this._moTimeout};
function AdfDhtmlShadowDecorator(){this.Init()}AdfObject.createSubclass(AdfDhtmlShadowDecorator);AdfDhtmlShadowDecorator.prototype.Init=function(){AdfDhtmlShadowDecorator.superclass.Init.call(this)};AdfDhtmlShadowDecorator.getShadowSize=function(){var a=AdfDhtmlShadowDecorator._SHADOW_PIXEL_SIZE;null==a&&(a=AdfPage.PAGE.getLookAndFeel(),a=parseInt(a.getSkinProperty("af|popup-tr-shadow-pixel-size")),a=isNaN(a)?0:a,AdfDhtmlShadowDecorator._SHADOW_PIXEL_SIZE=a);return a};
AdfDhtmlShadowDecorator.prototype._create=function(a,b,d,e,f,g){null==d&&(d=3);this._shadowOffsetTop=d;null==e&&(e=3);this._shadowOffsetLeft=e;null==g&&(g=100);this._isRelative=f;var h=AdfDhtmlShadowDecorator.getShadowSize(),k=2*h,l=AdfPage.PAGE,m=AdfAgent.AGENT;this._maskFrame||(this._maskFrame=l.createMaskingFrame(a));if(!AdfDhtmlShadowDecorator._usesNativeShadows(a)&&!this._shadeElements){var n=m.getComputedStyle(a);this._shadeElements=Array(k);if(void 0==n.zIndex||2>=AdfAgent.getCSSLengthAsInt(n.zIndex))a.style.zIndex=
3;var p=a.ownerDocument,l=l.getLocaleContext().isRightToLeft(),q=f?{x:0,y:0}:m.getElementPosition(a);f=q.y+d;var r;r=l?q.x-(e+h):q.x+e;var t=a.offsetWidth,u=a.offsetHeight;b=b?b:p.body;this._anchorBox={x:q.x,y:q.y,offsetWidth:t,offsetHeight:u};a=p.createElement("div");AdfDomUtils.addCSSClassName(a,AdfDhtmlShadowDecorator._SHADOW_STYLE_CLASS);q=a.style;q.zIndex=AdfAgent.getCSSLengthAsInt(n.zIndex)-1;q.position="absolute";q.left=r+"px";q.top=f+"px";q.width=t+h+"px";q.height=u+h+"px";f=0;r=l?h+e:0;e=
t-e+"px";d=u-d+"px";for(h=0;h<k;h++)n=p.createElement("div"),q=n.style,q.position="absolute",q.left=r+"px",q.top=f+"px",0==h%2?l?r--:r++:f++,q.width=e,q.height=d,q.backgroundColor="#000000",m.setOpacity(n,Math.floor(g/(2*h+4))),a.appendChild(n),this._shadeElements[h]=n;b.appendChild(a);this._shadeContainer=a}};
AdfDhtmlShadowDecorator.prototype._move=function(a){var b=AdfAgent.AGENT,d=AdfPage.PAGE,e=this._maskFrame;e&&d.moveMaskingFrame(a,e);if(this._shadeElements){var f=this._anchorBox,e=a.offsetWidth,d=a.offsetHeight,g=this._isRelative?{x:0,y:0}:b.getElementPosition(a);if(f.x!=g.x||f.y!=g.y||f.offsetWidth!=e||f.offsetHeight!=d){this._anchorBox={x:g.x,y:g.y,offsetWidth:e,offsetHeight:d};var b=b.getComputedStyle(a).zIndex-1,f=this._shadowOffsetTop,h=this._shadowOffsetLeft,k=AdfPage.PAGE.getLocaleContext().isRightToLeft();
a=this._shadeContainer.style;a.zIndex=b;var l=AdfDhtmlShadowDecorator.getShadowSize(),b=2*l;a.left=(k?g.x-(h+l):g.x+h)+"px";a.top=g.y+f+"px";a.width=e+l+"px";a.height=d+l+"px";AdfAssert.assert(0<e-h,"Computed shadow width is less than one");AdfAssert.assert(0<d-f,"Computed shadow height is less than one");e=e-h+"px";d=d-f+"px";for(g=0;g<b;g++)a=this._shadeElements[g].style,a.width=e,a.height=d}}};
AdfDhtmlShadowDecorator.prototype._show=function(a,b){this._maskFrame&&(this._maskFrame.style.visibility=b?"visible":"hidden");this._shadeElements&&(this._shadeContainer.style.display=b?"block":"none")};AdfDhtmlShadowDecorator.prototype._remove=function(a){if(a=this._maskFrame)AdfPage.PAGE.removeMaskingFrame(a),delete this._maskFrame;this._shadeElements&&(this._shadeContainer.parentNode.removeChild(this._shadeContainer),delete this._shadeElements,delete this._shadeContainer)};
AdfDhtmlShadowDecorator.createShadowDecorator=function(a,b,d){var e=AdfDhtmlShadowDecorator._getShadowDecorator(a);if(!e){var e=new AdfDhtmlShadowDecorator,f=AdfDhtmlShadowDecorator._getShadowOffset(),g=AdfDhtmlShadowDecorator._getShadowStartingBlackPercent();e._create(a,b,f,f,d,g);AdfDhtmlShadowDecorator._uniqueIdCounter||(AdfDhtmlShadowDecorator._uniqueIdCounter=0);b="sd$"+ ++AdfDhtmlShadowDecorator._uniqueIdCounter;d=AdfDhtmlShadowDecorator._shadowDecorators;d||(d=AdfDhtmlShadowDecorator._shadowDecorators=
{});d[b]=e;a.setAttribute(AdfDhtmlShadowDecorator._SHADOW_DECORATOR_ATTRIBUTE,b)}return e};
AdfDhtmlShadowDecorator._usesNativeShadows=function(a){var b=AdfAgent.AGENT,d=b.getPlatform()==AdfAgent.WEBKIT_PLATFORM||b.atLeast(AdfAgent.IE_PLATFORM,9)||b.atLeast(AdfAgent.GECKO_PLATFORM,"1.9.1");if(!d)return d;for(d=!1;a&&!d;){if(1==a.nodeType){if(AdfDomUtils.containsCSSClassName(a,AdfDhtmlZOrderManager.LAYER_STYLECLASS))break;for(var e=b.getComputedStyle(a),f=0;f<AdfDhtmlShadowDecorator._CSS_NATIVE_BOX_SHADOWS.length;f++){var g=e[AdfDhtmlShadowDecorator._CSS_NATIVE_BOX_SHADOWS[f]];if(g&&0<g.length&&
"none"!=g){d=!0;break}}}a=a.parentNode}return d};AdfDhtmlShadowDecorator.moveShadowDecorator=function(a){var b=AdfDhtmlShadowDecorator._getShadowDecorator(a);b&&b._move(a)};AdfDhtmlShadowDecorator.removeShadowDecorator=function(a){var b=AdfDhtmlShadowDecorator._getShadowDecorator(a);b&&(b._remove(a),b=a.getAttribute(AdfDhtmlShadowDecorator._SHADOW_DECORATOR_ATTRIBUTE))&&(a.removeAttribute(AdfDhtmlShadowDecorator._SHADOW_DECORATOR_ATTRIBUTE),(a=AdfDhtmlShadowDecorator._shadowDecorators)&&delete a[b])};
AdfDhtmlShadowDecorator.showShadowDecorator=function(a,b){var d=AdfDhtmlShadowDecorator._getShadowDecorator(a);d&&d._show(a,b)};AdfDhtmlShadowDecorator.hasShadowDecorator=function(a){return void 0!=AdfDhtmlShadowDecorator._getShadowDecorator(a)};AdfDhtmlShadowDecorator._getShadowDecorator=function(a){a=a.getAttribute(AdfDhtmlShadowDecorator._SHADOW_DECORATOR_ATTRIBUTE);var b,d=AdfDhtmlShadowDecorator._shadowDecorators;d&&a&&(b=d[a]);return b};
AdfDhtmlShadowDecorator._getShadowOffset=function(){var a=AdfDhtmlShadowDecorator._SHADOW_OFFSET;null==a&&(a=AdfPage.PAGE.getLookAndFeel(),a=parseInt(a.getSkinProperty("af|popup-tr-shadow-offset")),a=isNaN(a)?3:a,AdfDhtmlShadowDecorator._SHADOW_OFFSET=a);return a};
AdfDhtmlShadowDecorator._getShadowStartingBlackPercent=function(){var a=AdfDhtmlShadowDecorator._SHADOW_STARTING_BLACK_PERCENT;null==a&&(a=AdfPage.PAGE.getLookAndFeel(),a=parseInt(a.getSkinProperty("af|popup-tr-shadow-starting-black-percent")),a=isNaN(a)?3:a,AdfDhtmlShadowDecorator._SHADOW_STARTING_BLACK_PERCENT=a);return a};AdfDhtmlShadowDecorator.setRelative=function(a,b){var d=AdfDhtmlShadowDecorator._getShadowDecorator(a);d&&b&&(d._isRelative=!0)};
AdfDhtmlShadowDecorator._SHADOW_DECORATOR_ATTRIBUTE="data-afr-shaddec";AdfDhtmlShadowDecorator._CSS_NATIVE_BOX_SHADOWS=["box-shadow","-webkit-box-shadow","-moz-box-shadow"];
function AdfDhtmlZOrderLayer(a){this.Init(a)}AdfObject.createSubclass(AdfDhtmlZOrderLayer);AdfDhtmlZOrderLayer._MINIMAL_Z_INDEX=20;AdfDhtmlZOrderLayer.prototype.Init=function(a){AdfDhtmlZOrderLayer.superclass.Init.call(this);this._containerElementId=a;this._elements=[];this._elementsCount=0};AdfDhtmlZOrderLayer.prototype.getContainerElement=function(){var a=this.getId();return AdfAgent.AGENT.getElementById(a)};AdfDhtmlZOrderLayer.prototype.getContainerElementCount=function(){return this._elementsCount};
AdfDhtmlZOrderLayer.prototype.getId=function(){return this._containerElementId};AdfDhtmlZOrderLayer.prototype.addElement=function(a,b){this._elementsCount++;var d=this._elements,e=0;b?(e=AdfCollections.indexOf(d,b),-1<e?d.splice(e,0,a):(d.push(a),e=d.length-1)):(d.push(a),e=d.length-1);for(;e<d.length;e++)e in d&&this._updateElement(e);this.getContainerElement().appendChild(a)};
AdfDhtmlZOrderLayer.prototype.removeElement=function(a){var b=this._elementsCount--,d=this._elements,e=AdfCollections.indexOf(d,a);-1<e&&delete d[e];this.getContainerElement().removeChild(a);0==b&&(this._elements=[])};AdfDhtmlZOrderLayer.prototype.raiseToFront=function(a){var b=this._elements,d=AdfCollections.indexOf(b,a);-1<d&&(delete b[d],b.push(a),this._updateElement(b.length-1))};AdfDhtmlZOrderLayer.prototype._updateElement=function(a){this._elements[a].style.zIndex=2*a+AdfDhtmlZOrderLayer._MINIMAL_Z_INDEX};
AdfDhtmlZOrderLayer.prototype.visitElements=function(a){AdfAssert.assertFunction(a,"no visitor callback");for(var b=this._elements,d=0;d<b.length&&!(d in b&&a(this,b[d]));d++);};
function AdfDhtmlModalityManager(){this.Init()}AdfObject.createSubclass(AdfDhtmlModalityManager);AdfDhtmlModalityManager.prototype.Init=function(){AdfDhtmlModalityManager.superclass.Init.call(this);this._modalElementStack=[];this._glassPaneStack=[]};AdfDhtmlModalityManager.prototype.getElementCount=function(){return this._modalElementStack.length};AdfDhtmlModalityManager.prototype.dispose=function(){this._glassPaneStack=this._modalElementStack=null};
AdfDhtmlModalityManager.prototype.pushModal=function(a){AdfAssert.assertDomElement(a);if(this.isGlassPaneVisible())this._glassPaneStack[this._glassPaneStack.length-1].style.display="none";else{var b=AdfAgent.AGENT,d=b.getDomWindow();this._setupEventHandler(b,"_handleResize",this._handleResize,"resize",!0,d)}AdfAssert.assertDomElement(a.parentNode);b=a.parentNode.getAttribute("id");AdfAssert.assertString(b);d=this._createGlassPane();AdfPage.PAGE.getZOrderManager().addElementToLayer(d,b,a);AdfPopupScopingUtils.markAsScopingContainer(d);
this._modalElementStack.push(a);this._glassPaneStack.push(d)};
AdfDhtmlModalityManager.prototype.popModal=function(){this._modalElementStack.pop();var a=this._glassPaneStack.pop();a.style.width="1px";a.style.height="1px";var b=AdfPage.PAGE;b.getZOrderManager().removeElement(a);if(0<this._modalElementStack.length)this._glassPaneStack[this._glassPaneStack.length-1].style.display="block";else{var a=AdfAgent.AGENT,d=a.getDomWindow();this._setupEventHandler(a,"_handleResize",this._handleResize,"resize",!1,d);a=a.getElementById(b.getDocumentClientId());b.doResizeNotifyDom(a,
!0)}};
AdfDhtmlModalityManager.prototype._createGlassPane=function(){var a=AdfAgent.AGENT,b=AdfPage.PAGE.getDomDocument().createElement("div"),d=b.style,e=a.getDomWindow();b.className="AFModalGlassPane";d.width=a.getWindowScrollWidth(e)+"px";d.height=a.getWindowScrollHeight(e)+"px";a.disableUserSelect(b);a.addBubbleEventListener(b,"keydown",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"keyup",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"keypress",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"mousedown",
AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"mouseup",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"mouseover",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"mouseout",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"click",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"focusin",AdfAgent.eatEventCallback);a.addBubbleEventListener(b,"focus",AdfAgent.eatEventCallback);return b};
AdfDhtmlModalityManager.prototype._handleResize=function(){AdfPage.PAGE.scheduleTimer(this,this._onResize,null,1)};AdfDhtmlModalityManager.prototype._onResize=function(){AdfAgent.AGENT.getDomWindow();for(var a=0;a<this._glassPaneStack.length;a++){var b=this._glassPaneStack[a];b.style.display="none";b.style.width="100vw";b.style.height="100vh";b.style.display=""}};
AdfDhtmlModalityManager.prototype.getTopGlassPane=function(){if(this.isGlassPaneVisible())return this._glassPaneStack[this._glassPaneStack.length-1]};AdfDhtmlModalityManager.prototype._setupEventHandler=function(a,b,d,e,f,g){b+="Stub";null==this[b]&&(this[b]=this.createCallback(d));f?a.addBubbleEventListener(g,e,this[b]):a.removeBubbleEventListener(g,e,this[b])};
AdfDhtmlModalityManager.prototype.isAboveTopGlassPane=function(a){if(!this.isGlassPaneVisible()||!a)return!0;var b=AdfDhtmlZOrderManager.FLOATINGTYPE_WINDOW,d=AdfDhtmlZOrderManager.FLOATINGTYPE_TOOLTIP,e=AdfDhtmlZOrderManager.FLOATINGTYPE_MASKINGFRAME,f=a;for(a=a.parentNode;a;a=a.parentNode){if(1==a.nodeType){var g=a.getAttribute("id");if(g){var g=g.split(":"),h=g.length;if(0<h){g=g[h-1];if(d==g)return!0;if(e==g)break;else if(b==g)return a=this.getTopGlassPane().style.zIndex,f.style.zIndex>a}}}f=
a}return!1};AdfDhtmlModalityManager.prototype.isGlassPaneVisible=function(){return 0<this._glassPaneStack.length};
function AdfAbstractFloatingElement(a){this.Init(a)}AdfObject.createSubclass(AdfAbstractFloatingElement);AdfAbstractFloatingElement.prototype.Init=function(a){AdfAbstractFloatingElement.superclass.Init.call(this);this._floatingType=a;this._alignPosition=this._shadowAnchor=this._rootElement=this._alignElement=null};AdfAbstractFloatingElement.prototype.GetFirstFormId=function(){var a=AdfPage.PAGE.getDomDocument();return a.forms&&0<a.forms.length&&a.forms[0].id?a.forms[0].id:null};
AdfAbstractFloatingElement.prototype.setElement=function(a){this._rootElement=a;this.setShadowAnchor(a);var b=a.style;b.position="absolute";b.zIndex=2;this.ImmediateZorderRegistration()&&AdfPage.PAGE.getZOrderManager().addElementToLayer(a,this.GetFloatingType(),this.GetFirstFormId())};AdfAbstractFloatingElement.prototype.ImmediateZorderRegistration=function(){return!0};AdfAbstractFloatingElement.prototype.getElement=function(){return this._rootElement};
AdfAbstractFloatingElement.prototype.setAlignElement=function(a){a&&a.id?(this._alignElementId=a.id,delete this._alignElement):(this._alignElement=a,delete this._alignElementId)};AdfAbstractFloatingElement.prototype.setAlignPosition=function(a){this._alignPosition=a;delete this._alignElement;delete this._alignElementId};AdfAbstractFloatingElement.prototype.getAlignPosition=function(){return this._alignPosition};
AdfAbstractFloatingElement.prototype.getAlignElement=function(){var a=this._alignElementId,b=this._alignElement;a&&!b&&(b=AdfAgent.AGENT.getElementById(a));return b};AdfAbstractFloatingElement.prototype.show=function(){this._rootElement.style.display=""};AdfAbstractFloatingElement.prototype.hide=function(){this._rootElement.style.display="none"};AdfAbstractFloatingElement.prototype.cancel=function(){this.hide()};AdfAbstractFloatingElement.prototype.destroy=function(){AdfPage.PAGE.getZOrderManager().removeElement(this._rootElement)};
AdfAbstractFloatingElement.prototype.getWidth=function(){return this.getElement().offsetWidth};AdfAbstractFloatingElement.prototype.getHeight=function(){return this.getElement().offsetHeight};AdfAbstractFloatingElement.prototype.setShadowAnchor=function(a){this._shadowAnchor=a};AdfAbstractFloatingElement.prototype.getShadowAnchor=function(){return this._shadowAnchor};
AdfAbstractFloatingElement.prototype.setTop=function(a){isNaN(a)||(a+="px");this._rootElement.style.top=a;AdfDhtmlShadowDecorator.hasShadowDecorator(this.getShadowAnchor())&&AdfDhtmlShadowDecorator.moveShadowDecorator(this.getShadowAnchor())};AdfAbstractFloatingElement.prototype.getTop=function(){return parseInt(this._rootElement.style.top)};
AdfAbstractFloatingElement.prototype.setLeft=function(a){isNaN(a)||(a+="px");this._rootElement.style.left=a;AdfDhtmlShadowDecorator.hasShadowDecorator(this.getShadowAnchor())&&AdfDhtmlShadowDecorator.moveShadowDecorator(this.getShadowAnchor())};AdfAbstractFloatingElement.prototype.getLeft=function(){return parseInt(this._rootElement.style.left)};
AdfAbstractFloatingElement.prototype.setPosition=function(a,b){isNaN(a)||(a+="px");isNaN(b)||(b+="px");this._rootElement.style.left=b;this._rootElement.style.top=a;AdfDhtmlShadowDecorator.hasShadowDecorator(this.getShadowAnchor())&&AdfDhtmlShadowDecorator.moveShadowDecorator(this.getShadowAnchor())};AdfAbstractFloatingElement.prototype.raiseToFront=function(){AdfPage.PAGE.getZOrderManager().raiseToFront(this._rootElement)};
AdfAbstractFloatingElement.prototype.CreateTable=function(a,b){for(var d=AdfPage.PAGE.getDomDocument().createElement("table"),e=0;e<a;e++)for(var f=d.insertRow(e),g=0;g<b;g++)f.insertCell(g);d.cellPadding=0;d.cellSpacing=0;d.role="presentation";return d};AdfAbstractFloatingElement.prototype.GetFloatingType=function(){return this._floatingType};
function AdfRepositionable(a,b){this.Init(a,b)}AdfObject.createSubclass(AdfRepositionable);AdfRepositionable.InitClass=function(){var a=this.prototype;a.NORMAL=0;a.START_DRAGGING=1;a.DRAGGING=2};
AdfRepositionable.prototype.Init=function(a,b){AdfRepositionable.superclass.Init.call(this);this._floatingElement=a;this._handle=b;var d=AdfAgent.AGENT;this._mousedownStub=this.createCallback(this._mouseDownHandler);this._mousemoveStub=this.createCallback(this._mouseMoveHandler);this._mouseupStub=this.createCallback(this._stopDragging);d.getCapabilities();d.addBubbleEventListener(this._handle,"touchstart",this._mousedownStub);d.addBubbleEventListener(this._handle,"mousedown",this._mousedownStub);
d.disableUserSelect(b);this._mouseStartY=this._mouseStartX=this._originalLeftPosition=this._originalTopPosition=null;this._state=this.NORMAL};AdfRepositionable.prototype.destroy=function(){var a=AdfAgent.AGENT;a.removeBubbleEventListener(this._handle,"touchstart",this._mousedownStub);a.removeBubbleEventListener(this._handle,"mousedown",this._mousedownStub);this._state!=this.NORMAL&&AdfPage.PAGE.stopDrag()};AdfRepositionable.prototype.getElement=function(){return this._floatingElement.getElement()};
AdfRepositionable.prototype._mouseDownHandler=function(a){var b=AdfPage.PAGE;if(!b.isDragging()){var d=AdfAgent.AGENT;a=a||d.getDomWindow().event;if(!(a instanceof MouseEvent)||d.isLeftButton(a)){this._state=this.START_DRAGGING;d.preventDefault(a);var e=d.getEventTarget(a);AdfPage.PAGE.getAutoDismissalManager().dismiss(e);if(d.getPlatform()==AdfAgent.IE_PLATFORM){d=this._handle;try{d.setActive()}catch(f){AdfLogger.LOGGER.fine("Could not restore focus to handle:",d.id?d.id:"unknown")}}b.startDrag(a,
this._mousemoveStub,this._mouseupStub,null,!0)}}};
AdfRepositionable.prototype._mouseMoveHandler=function(a,b,d){var e=AdfAgent.AGENT;a=e.getMousePosition(a);if(this._state==this.START_DRAGGING){this._onDragStart.apply(this._floatingElement);this._state=this.DRAGGING;this._mouseStartX=a.x;this._mouseStartY=a.y;this._originalLeftPosition=parseInt(this._floatingElement.getLeft());this._originalTopPosition=parseInt(this._floatingElement.getTop());this._moveDeltaY=this._moveDeltaX=0;this._originalLeftPosition||(this._originalLeftPosition=0);this._originalTopPosition||
(this._originalTopPosition=0);var f=AdfPage.PAGE.getDomDocument().documentElement,g=e.getPlatform()==AdfAgent.IE_PLATFORM,h=AdfPage.PAGE.getLocaleContext().isRightToLeft(),k=e.getDomWindow();a=e.getWindowScrollWidth(k);var e=e.getWindowScrollHeight(k),k=AdfDhtmlShadowDecorator.getShadowSize(),l=h?k:0;g&&h&&(f=f.scrollWidth-f.clientWidth,l-=f,a-=f);this._minLeft=l;f=this.getElement();this._wiggleWidth=a-f.offsetWidth-2*k;this._wiggleHeight=e-f.offsetHeight-2*k}this._state==this.DRAGGING&&(b=this._moveDeltaX+=
b,d=this._moveDeltaY+=d,this._move(b,d))};AdfRepositionable.prototype._stopDragging=function(a,b,d){this._mouseStartY=this._mouseStartX=this._originalTopPosition=this._originalLeftPosition=null;this._state==this.DRAGGING&&this._onDragEnd.apply(this._floatingElement);this._state=this.NORMAL};
AdfRepositionable.prototype._move=function(a,b){var d=this._originalLeftPosition+a,e=this._originalTopPosition+b,f=this._minLeft,g=this._wiggleWidth,h=this._wiggleHeight,d=d>f?Math.min(d,g):f,e=0<e?Math.min(e,h):0;this._floatingElement.setPosition(e,d);this._onDrag()};AdfRepositionable.prototype.setDragStartHandler=function(a){this._onDragStart=a};AdfRepositionable.prototype.setDragEndHandler=function(a){this._onDragEnd=a};AdfRepositionable.prototype.setDragHandler=function(a){this._onDrag=a};
AdfRepositionable.prototype._onDragStart=function(){};AdfRepositionable.prototype._onDragEnd=function(){};AdfRepositionable.prototype._onDrag=function(){};
function AdfDhtmlDialogManager(){this.Init()}AdfObject.createSubclass(AdfDhtmlDialogManager);
AdfDhtmlDialogManager.prototype.Init=function(){AdfDhtmlDialogManager.superclass.Init.call(this);this._dialogs=[];this._activationChain=[];this._activeDialog=null;var a=AdfAgent.AGENT,b=a.getDomDocument().documentElement;a.getDomWindow();this._lastScrollLeft=b.scrollLeft;this._lastScrollTop=b.scrollTop;this._primaryWindow={};this._primaryWindow.activate=function(){var a=this._prevDomElement;a?AdfFocusUtils.focusElement(a):AdfFocusUtils.focusFirstDocumentTabStop()};this._primaryWindow.showAsInActive=
function(){};this._primaryWindow.showAsActive=function(){}};AdfDhtmlDialogManager.prototype.getElementCount=function(){return this._dialogs.length};AdfDhtmlDialogManager.prototype.registerDialog=function(a){this._dialogs[this._dialogs.length]=a;delete this._topDialogNavigation};
AdfDhtmlDialogManager.prototype._getTopDialogNavigation=function(){var a=-1,b=this._activeDialog,d=this._topDialogNavigation;if(d)return b&&(a=AdfCollections.indexOf(d,b)),a;for(var d=[],e=this._dialogs,f=!1,g=e.length-1;-1<g;g--){var h=e[g];if(!f){if(h.getModal()&&(f=!0,AdfDhtmlPopupHints.ZORDER_SCOPE_BODY==h.getZorderScope()))break;-1==a&&b&&h==b&&(a=d.length);d[d.length]=h}else if(this._isMessageDialog(h)){d.splice(d.length-1,0,h);h.raiseToFront();b=d[d.length-1];b.isAnimating()&&(e={},e.msgDialog=
h,e.modalDialog=b,b.addOpenedHandler(AdfDhtmlDialogManager._setMessageDialogRestoreFocus,e));break}}d.reverse();-1<a&&(a=d.length-1-a);f||(d[d.length]=this._primaryWindow);this._topDialogNavigation=d;return a};
AdfDhtmlDialogManager._setMessageDialogRestoreFocus=function(a){AdfAssert.assertObject(a,"params is required");var b=a.msgDialog;a=a.modalDialog;AdfAssert.assertPrototype(b,AdfDhtmlSimpleFloat,"params.msgDialog]");AdfAssert.assertPrototype(a,AdfDhtmlSimpleFloat,"params.modalDialog");a=a.getFirstTabStop();b.setRestoreFocusId(a&&a.id?a.id:null)};
AdfDhtmlDialogManager.prototype._isMessageDialog=function(a){a=a.getContainedComponentClientId();var b=this._messageDialogId;if(!b){var b=AdfPage.PAGE,d=b.getDocumentClientId(),b=b.findComponent(d),d=b.getPeer();d.bind(b);b=this._messageDialogId=d.getMessageDialogId()}return a==b};
AdfDhtmlDialogManager.prototype.focusNextModelessDialog=function(a){a&&(this._primaryWindow._prevDomElement=a);a=this._getTopDialogNavigation();var b=this._topDialogNavigation,d=0;b&&!(1>=b.length)&&(d=-1==a||a+1==b.length?0:a+1,a=b[d])&&(this.activateDialog(a),a.activate())};
AdfDhtmlDialogManager.prototype.unregisterDialog=function(a){var b=this._activationChain,d=this._dialogs;this._getTopDialogNavigation();AdfCollections.removeArrayValue(d,a);AdfCollections.removeArrayValue(b,a);if(a.getModal())for(var e=AdfPage.PAGE,f=this._topDialogNavigation,g=f.length-1;0<g;g--){var h=f[g];if(h!=this._primaryWindow){var k=h.getContainedComponentClientId(),l=e.findComponent(k);if(l&&l instanceof AdfRichDialog){var m=l.getParent();if(m&&m instanceof AdfRichDocument&&m.getPeer().getMessageDialogId()==
k)continue;k=l.getPeer();k.bind(l);k.fireCancel()}else l=h.getPopupClientId(),(l=e.findComponent(l))&&l instanceof AdfRichPopup&&l.cancel();AdfCollections.removeArrayValue(d,h);AdfCollections.removeArrayValue(b,h)}}delete this._topDialogNavigation;this._activeDialog==a&&(this._activeDialog=null,a=b.length,1<=a&&(this._activeDialog=b[a-1]).activate())};
AdfDhtmlDialogManager.prototype.activateDialog=function(a){var b=this._activeDialog;if(b==a)return!1;this._getTopDialogNavigation();var d=this._topDialogNavigation;if(d&&0>AdfCollections.indexOf(d,a))return!1;b&&this.deactivateCurrentDialog();if(a==this._primaryWindow)return!1;this._activeDialog=a;b=this._activationChain;AdfCollections.removeArrayValue(b,a);b.push(a);a.showAsActive();return!0};
AdfDhtmlDialogManager.prototype.deactivateCurrentDialog=function(){this._activeDialog&&(this._activeDialog.showAsInActive(),this._activeDialog=null)};AdfDhtmlDialogManager.getInstance=function(){null==this._theInstance&&(this._theInstance=new AdfDhtmlDialogManager);return this._theInstance};AdfDhtmlDialogManager.prototype.getActiveDialog=function(){return this._activeDialog};
function AdfDhtmlPositionManager(){this.Init()}AdfObject.createSubclass(AdfDhtmlPositionManager);AdfDhtmlPositionManager.InitClass=function(){this.TOP=0;this.MIDDLE=1;this.BOTTOM=2;this.LEFT=3;this.CENTER=4;this.RIGHT=5;this.MIN_WIDTH=32};AdfDhtmlPositionManager.prototype.Init=function(){AdfDhtmlPositionManager.superclass.Init.call(this);var a=AdfLogger.LOGGER;a.getLevel(AdfLogger.FINEST)&&(this._logger=a);this._elements=[];this._isRTL=AdfPage.PAGE.getLocaleContext().isRightToLeft()};
AdfDhtmlPositionManager.prototype._registerEventHanders=function(){var a=AdfAgent.AGENT,b=a.getDomWindow(),d=a.getDomDocument(),e=this._repostionOnScrollCallback;e||(e=this._repostionOnScrollCallback=this.createCallback(this._repostionOnScroll));var f=a.getPlatform()==AdfAgent.IE_PLATFORM;a.isInlineDialogRepositioningOnScroll()&&(a.addBubbleEventListener(d,"mousewheel",e),a.addBubbleEventListener(b,"scroll",e),f||a.addBubbleEventListener(d,"DOMMouseScroll",e));a.addBubbleEventListener(b,"resize",
e)};AdfDhtmlPositionManager.prototype._unregisterEventHanders=function(){var a=AdfAgent.AGENT,b=a.getDomWindow(),d=a.getDomDocument(),e=this._repostionOnScrollCallback;e&&(a.removeBubbleEventListener(d,"mousewheel",e),a.removeBubbleEventListener(b,"scroll",e),a.removeBubbleEventListener(d,"DOMMouseScroll",e),a.removeBubbleEventListener(b,"resize",e))};AdfDhtmlPositionManager.prototype.getElementCount=function(){var a=0,b=this._elements,d;for(d in b)d&&a++;return a};
AdfDhtmlPositionManager.prototype.dispose=function(){this._elements=null};AdfDhtmlPositionManager.prototype.addFloatingElement=function(a,b){a.getAlignPosition()||AdfAssert.assertDomElement(a.getAlignElement());return this._addFloatingElement(a,b)};AdfDhtmlPositionManager.prototype.addFloatingElementByPosition=function(a,b){a.setAlignPosition(b);return this._addFloatingElement(a,AdfRichPopup.ALIGN_AFTER_START)};
AdfDhtmlPositionManager.prototype.calculatePlacementPosition=function(a,b,d,e,f){var g=this._getHintBehavior(d);d=g.horizontalBehavior;g=g.verticalBehavior;a={top:0,right:b,bottom:a,left:0,width:b,height:a};e=this._getAlignBox(e,f);f=this._selectBehavior(d,a,e);d=this._selectBehavior(g,a,e);return this._getNewPosition(f,d,a,e)};
AdfDhtmlPositionManager.prototype._addFloatingElement=function(a,b){AdfAssert.assertDomElement(a.getElement());1>this.getElementCount()&&this._registerEventHanders();var d=this._getHintBehavior(b);return this._addElement(a,d.verticalBehavior,d.horizontalBehavior,d.insideBorder)};
AdfDhtmlPositionManager.prototype._getHintBehavior=function(a){var b=AdfDhtmlPositionManager.BOTTOM,d=AdfDhtmlPositionManager.TOP,e=AdfDhtmlPositionManager.MIDDLE,f=this._convertHorizontal("start"),g=this._convertHorizontal("end"),h=AdfDhtmlPositionManager.CENTER,k=!1,l,m;switch(a){case AdfRichPopup.ALIGN_AFTER_START:m=[b,d];l=[f,f];break;case AdfRichPopup.ALIGN_AFTER_END:m=[b,d];l=[g,g];break;case AdfRichPopup.ALIGN_AFTER_CENTER:m=[b,d,b,d];l=[f,f,h,h];break;case AdfRichPopup.ALIGN_BEFORE_START:m=
[d,b];l=[f,f];break;case AdfRichPopup.ALIGN_BEFORE_END:m=[d,b];l=[g,g];break;case AdfRichPopup.ALIGN_BEFORE_CENTER:m=[d,b,d,b];l=[f,f,h,h];break;case AdfRichPopup.ALIGN_END_AFTER:m=[b,b];l=[g,f];break;case AdfRichPopup.ALIGN_END_BEFORE:m=[d,d];l=[g,f];break;case AdfRichPopup.ALIGN_END_CENTER:m=[d,d,e,e];l=[g,f,g,f];break;case AdfRichPopup.ALIGN_START_AFTER:m=[b,b];l=[f,g];break;case AdfRichPopup.ALIGN_START_BEFORE:m=[d,d];l=[f,g];break;case AdfRichPopup.ALIGN_START_CENTER:m=[d,d,e,e];l=[f,g,f,g];
break;case AdfRichPopup.ALIGN_OVERLAP:m=[d,d];l=[f,f];break;case AdfRichPopup.ALIGN_OVERLAP_END_BEFORE:k=!0;m=[d,d];l=[g,g];break;case AdfRichPopup.ALIGN_OVERLAP_START_BEFORE:k=!0;m=[d,d];l=[f,f];break;case AdfRichPopup.ALIGN_BEFORE_AFTER:m=[d,b,d,b];l=[g,g,g,f];break;default:AdfAssert.assert(!1,"Invalid alignmentHint provided")}return{horizontalBehavior:this._getBehavior(l),verticalBehavior:this._getBehavior(m),insideBorder:k}};
AdfDhtmlPositionManager.prototype._inversePosition=function(a){switch(a){case AdfDhtmlPositionManager.TOP:return AdfDhtmlPositionManager.BOTTOM;case AdfDhtmlPositionManager.BOTTOM:return AdfDhtmlPositionManager.TOP;case AdfDhtmlPositionManager.MIDDLE:return AdfDhtmlPositionManager.MIDDLE;case AdfDhtmlPositionManager.LEFT:return AdfDhtmlPositionManager.RIGHT;case AdfDhtmlPositionManager.RIGHT:return AdfDhtmlPositionManager.LEFT;case AdfDhtmlPositionManager.CENTER:return AdfDhtmlPositionManager.CENTER}};
AdfDhtmlPositionManager.prototype._positionToString=function(a){switch(a){case AdfDhtmlPositionManager.TOP:return"Top";case AdfDhtmlPositionManager.BOTTOM:return"Bottom";case AdfDhtmlPositionManager.MIDDLE:return"Middle";case AdfDhtmlPositionManager.LEFT:return"Left";case AdfDhtmlPositionManager.RIGHT:return"Right";case AdfDhtmlPositionManager.CENTER:return"Center"}};
AdfDhtmlPositionManager.prototype._getBehavior=function(a){for(var b=[],d=0;d<a.length;d+=2){var e=this["_prefer"+this._positionToString(a[d])+this._positionToString(a[d+1])+"Condition"],f=this["_prefer"+this._positionToString(this._inversePosition(a[d]))+this._positionToString(this._inversePosition(a[d+1]))+"Condition"];b.splice(0,0,{alignElementAnchor:a[d],floatingElementAnchor:a[d+1],condition:f},{alignElementAnchor:this._inversePosition(a[d]),floatingElementAnchor:this._inversePosition(a[d+1]),
condition:e})}return b};
AdfDhtmlPositionManager.prototype._getBox=function(a){var b=AdfAgent.AGENT,d=a.getElement(),e=d.offsetWidth,f=d.offsetHeight,g=b.getElementPosition(d),b=g.y,g=g.x;0==e&&(d=d.firstChild)&&(e=d.offsetWidth,f=d.offsetHeight);var d=AdfDhtmlShadowDecorator.getShadowSize(),f=f+d,e=e+d,h=d=0;a.getTailElement&&a.getTailElement()&&(h=a.getTailElement(),d=h.offsetWidth,h=h.offsetHeight);e={top:b,right:g+e,bottom:b+f,left:g,width:e,height:f,tailWidth:d,tailHeight:h};e.inversePosition=a.shouldInvertPosition();
return e};AdfDhtmlPositionManager.prototype._getAlignBox=function(a,b,d){var e=AdfAgent.AGENT,f,g;a?(e=e.getElementPosition(a),a instanceof SVGElement?(d=e.y,b=e.x,a=a.getBoundingClientRect(),e=a.width,g=a.height):d?(d=e.y+a.clientTop,b=e.x+a.clientLeft,e=a.clientWidth,g=a.clientHeight):(d=e.y,b=e.x,e=a.offsetWidth,g=a.offsetHeight),a=d+g,f=b+e):(g=e=0,null==b?f=b=a=d=0:(a=d=b.y,f=b=b.x));return{top:d,bottom:a,left:b,right:f,width:e,height:g}};
AdfDhtmlPositionManager.prototype._preferTopTopCondition=function(a,b,d){var e=AdfAgent.AGENT,f=e.getWindowHeight(),g=e.getBrowserViewportScrollTop(),h=AdfDhtmlShadowDecorator.getShadowSize(),e=b.top+a.height<=f+g,f=b.bottom+h<=f+g;b=b.bottom-(a.height-h)>=g&&f;a=d?e:b;(f=this._logger)&&f.logMessage(AdfLogger.FINEST,(d?"_preferBottomBottomCondition":"_preferTopTopCondition")+" fitsBelow\x3d"+e+" fitsAbove\x3d"+b+" return\x3d"+a+" usedBy\x3d"+(d?"end_before, start_before, overlap":"end_after, start_after"));
return a};AdfDhtmlPositionManager.prototype._preferMiddleMiddleCondition=function(a,b){var d=AdfAgent.AGENT,e=d.getWindowHeight(),d=d.getBrowserViewportScrollTop(),f=AdfDhtmlShadowDecorator.getShadowSize(),g=a.height-f,e=b.top+b.height/2+g/2+f<=e+d,g=b.bottom-b.height/2-g/2>=d,d=e&&g;(f=this._logger)&&f.logMessage(AdfLogger.FINEST,"_preferMiddleMiddleCondition fitsBelow\x3d"+e+" fitsAbove\x3d"+g+" return\x3d"+d+" usedBy\x3dend_center, start_center");return d};
AdfDhtmlPositionManager.prototype._preferCenterCenterCondition=function(a,b){var d=AdfAgent.AGENT,e=d.getWindowWidth(),d=d.getBrowserViewportScrollLeft(),f=AdfDhtmlShadowDecorator.getShadowSize(),g=a.width-f;this._isRTL?(e=b.left+b.width/2+g/2<=e+d,f=b.right-b.width/2-g/2-f>=d):(e=b.left+b.width/2+g/2+f<=e+d,f=b.right-b.width/2-g/2>=d);d=e&&f;(g=this._logger)&&g.logMessage(AdfLogger.FINEST,"_preferCenterCenterCondition fitsToRight\x3d"+e+" fitsToLeft\x3d"+f+" return\x3d"+d+" usedBy\x3dafter_center, before_center");
return d};AdfDhtmlPositionManager.prototype._preferBottomBottomCondition=function(a,b){return this._preferTopTopCondition(a,b,!0)};
AdfDhtmlPositionManager.prototype._preferBottomTopCondition=function(a,b,d){var e=AdfAgent.AGENT,f=e.getWindowHeight(),g=e.getBrowserViewportScrollTop(),e=AdfDhtmlShadowDecorator.getShadowSize(),h=b.top+e<=f+g,e=b.top-(a.height-e)>=g&&h;b=b.bottom+a.height<=f+g;a=d?b:e;(f=this._logger)&&f.logMessage(AdfLogger.FINEST,(d?"_preferTopBottomCondition":"_preferBottomTopCondition")+" fitsAbove\x3d"+e+" fitsBelow\x3d"+b+" return\x3d"+a+" usedBy\x3d"+(d?"after_start, after_end":"before_start, before_end, before_after"));
return a};AdfDhtmlPositionManager.prototype._preferTopBottomCondition=function(a,b){return this._preferBottomTopCondition(a,b,!0)};
AdfDhtmlPositionManager.prototype._preferLeftLeftCondition=function(a,b,d){var e=AdfAgent.AGENT,f=e.getWindowWidth(),e=e.getBrowserViewportScrollLeft(),g=AdfDhtmlShadowDecorator.getShadowSize(),h=a.width+a.tailWidth-g,k;this._isRTL?(k=b.right-(a.width+a.tailWidth)>=e,a=b.left-g>=e,a=b.left+h<=f+e&&a):(a=b.left+a.width+a.tailWidth<=f+e,f=b.right+g<=f+e,k=b.right-h>=e&&f);b=d?a:k;(f=this._logger)&&f.logMessage(AdfLogger.FINEST,(d?"_preferRightRightCondition":"_preferLeftLeftCondition")+" fitsToRight\x3d"+
a+" fitsToLeft\x3d"+k+" return\x3d"+b+" usedBy\x3d"+(d?"after_start, before_start, overlap":"after_end, before_end, before_after"));return b};AdfDhtmlPositionManager.prototype._preferRightRightCondition=function(a,b){return this._preferLeftLeftCondition(a,b,!0)};
AdfDhtmlPositionManager.prototype._preferRightLeftCondition=function(a,b,d){var e=AdfAgent.AGENT,f=e.getWindowWidth(),e=e.getBrowserViewportScrollLeft(),g=AdfDhtmlShadowDecorator.getShadowSize(),h=a.width+a.tailWidth-g;this._isRTL?(g=b.right-g>=e,f=b.right+h<f+e&&g,h=b.left-(a.width+a.tailWidth)>=e):(g=b.left+g<f+e,h=b.left-h>=e&&g,f=b.right+(a.width+a.tailWidth)<f+e);a=d?f:h;(b=this._logger)&&b.logMessage(AdfLogger.FINEST,(d?"_preferLeftRightCondition":"_preferRightLeftCondition")+" fitsToLeft\x3d"+
h+" fitsToRight\x3d"+f+" return\x3d"+a+" usedBy\x3d"+(d?"end_before, before_after":"start_after, start_before"));return a};AdfDhtmlPositionManager.prototype._preferLeftRightCondition=function(a,b){return this._preferRightLeftCondition(a,b,!0)};AdfDhtmlPositionManager.prototype._convertHorizontal=function(a){return"start"==a&&this._isRTL||"end"==a&&!this._isRTL?AdfDhtmlPositionManager.RIGHT:AdfDhtmlPositionManager.LEFT};
AdfDhtmlPositionManager.prototype._addElement=function(a,b,d,e){var f=a.getAlignElement(),f=f?this.managesElement(f):!1;this._elements.push({element:a,verticalBehaviors:b,horizontalBehaviors:d,alignElementIsManaged:f,insideBorder:e});return this._elements.length-1};AdfDhtmlPositionManager.prototype.removeElement=function(a){delete this._elements[a];1>this.getElementCount()&&this._unregisterEventHanders()};AdfDhtmlPositionManager.prototype.managesElement=function(a){return AdfPage.PAGE.getZOrderManager().containsElement(a)};
AdfDhtmlPositionManager.prototype.validatePosition=function(a){var b=AdfPage.PAGE.getDnDContext();if(!b||!b.isDragging())if(a=this._elements[a],null!=a){var b=a.element,d=b.getAlignElement(),e=b.getAlignPosition(),f=a.insideBorder,g=this._getBox(b),d=this._getAlignBox(d,e,f),e=this._selectBehavior(a.verticalBehaviors,g,d),f=this._selectBehavior(a.horizontalBehaviors,g,d);a._computedBehavior={};a._computedBehavior.verticalBehavior=e;a._computedBehavior.horizontalBehavior=f;this._positionElement(b,
a._computedBehavior,a.alignElementIsManaged,g,d)}};AdfDhtmlPositionManager.prototype._selectBehavior=function(a,b,d){if(!b.inversePosition)return a[0];for(var e,f=0;!e&&f<a.length;f++)a[f].condition.call(this,b,d)&&(e=a[f]);e||(e=a[0]);return e};AdfDhtmlPositionManager.prototype.getComputedBehavior=function(a){a=this._elements[a];if(null!=a)return a._computedBehavior};
AdfDhtmlPositionManager.prototype._positionElement=function(a,b,d,e,f){b=this._getNewPosition(b.horizontalBehavior,b.verticalBehavior,e,f);a.setPosition(b.y,b.x)};
AdfDhtmlPositionManager.prototype._getNewPosition=function(a,b,d,e){var f,g,h=AdfDhtmlShadowDecorator.getShadowSize(),k=d.height-h,h=d.width-h;switch(b.alignElementAnchor){case AdfDhtmlPositionManager.TOP:f=e.top;break;case AdfDhtmlPositionManager.BOTTOM:f=e.bottom;break;case AdfDhtmlPositionManager.MIDDLE:f=e.top+e.height/2;break;default:AdfAssert.assert(!1,"Invalid alignElementAnchor for verticalBehavior provided")}switch(a.alignElementAnchor){case AdfDhtmlPositionManager.LEFT:g=e.left;break;case AdfDhtmlPositionManager.RIGHT:g=
e.right;break;case AdfDhtmlPositionManager.CENTER:g=e.left+e.width/2;break;default:AdfAssert.assert(!1,"Invalid alignElementAnchor for horizontalBehavior provided")}var l,m;switch(b.floatingElementAnchor){case AdfDhtmlPositionManager.TOP:l=f;break;case AdfDhtmlPositionManager.BOTTOM:l=f-k;break;case AdfDhtmlPositionManager.MIDDLE:l=f-k/2;break;default:AdfAssert.assert(!1,"Invalid floatingElementAnchor for verticalBehavior provided")}switch(a.floatingElementAnchor){case AdfDhtmlPositionManager.LEFT:m=
g;break;case AdfDhtmlPositionManager.RIGHT:m=g-h;break;case AdfDhtmlPositionManager.CENTER:m=g-h/2;break;default:AdfAssert.assert(!1,"Invalid floatingElementAnchor for horizontalBehavior provided")}AdfPage.PAGE.isPortlet()&&(f=AdfAgent.AGENT,b=f.getBrowserViewportScrollTop(),a=f.getBrowserViewportScrollLeft(),e=f.getWindowWidth(),f=f.getWindowHeight(),l=Math.max(0,l),f=f+b-(l+d.height),0>f&&(l=Math.max(b,l+f)),m=Math.max(0,m),d=e+a-(m+d.width),0>d&&(m=Math.max(a,m+d)));return{x:m,y:l}};
AdfDhtmlPositionManager.prototype._repostionOnScroll=function(a){a=AdfAgent.AGENT.getDomWindow();null==this._repostionCallback&&(this._repostionCallback=this.createCallback(this._repostionOnScrollTimeout));this._repostionTimeout&&a.clearTimeout(this._repostionTimeout);this._repostionTimeout=a.setTimeout(this._repostionCallback,200)};
AdfDhtmlPositionManager.prototype._repostionOnScrollTimeout=function(){delete this._repostionTimeout;for(var a=this._elements,b=a.length-1;-1<b;b--)if(null!=a[b]){var d=a[b].element,e=d.getAlignElement();d.isAnimating()||(e?this._isOutsideScrollView(e)&&d.ShouldHideOnClip()?d.cancel():this.validatePosition(b):d.getAlignPosition()&&!this._isFloatingElementGreaterThanWindow(d)&&this.validatePosition(b))}};
AdfDhtmlPositionManager.prototype._isFloatingElementGreaterThanWindow=function(a){var b=AdfAgent.AGENT,d=a.getWidth();a=a.getHeight();var e=b.getWindowWidth(),b=b.getWindowHeight();return d>e||a>b};
AdfDhtmlPositionManager.prototype._isOutsideScrollView=function(a){var b=AdfAgent.AGENT,d=b.getElementPageBounds(a),e=b.getWindowWidth(),f=b.getBrowserViewportScrollLeft(),g=b.getWindowHeight(),h=b.getBrowserViewportScrollTop(),e=AdfDhtmlPositionManager._isWithinViewport(d,{top:h,bottom:g+h,left:f,right:f+e});for(a=a.parentNode;e&&a&&!AdfDhtmlPositionManager._isRootNode(a);)1==a.nodeType&&(e=b.getElementPageBounds(a),e=AdfDhtmlPositionManager._isWithinViewport(d,e)),a=a.parentNode;return!e};
AdfDhtmlPositionManager._isRootNode=function(a){var b=AdfAgent.AGENT.getNodeName(a);if("FORM"==b||"BODY"==b)return!0;if(a=a.getAttribute("id"))if(a=a.split(":"),b=a.length,0<b)return AdfDhtmlZOrderManager.FLOATINGTYPE_WINDOW==a[b-1];return!1};AdfDhtmlPositionManager._isWithinViewport=function(a,b){return-2>a.top-b.top||-2>b.bottom-a.bottom||-2>a.left-b.left||2<a.right-b.right?!1:!0};
AdfDhtmlPositionManager.prototype.resizeFloatingElement=function(a){var b=this.findFloatingElement(a);if(b&&!(b instanceof AdfDhtmlTooltip)){var d=b.getElement();if(AdfDomUtils.isAncestorOrSelf(d,a))return b.autoSize(),!0}return!1};AdfDhtmlPositionManager.prototype.findFloatingElement=function(a){for(var b=this._elements,d=0;d<b.length;d++)if(d in b){var e=b[d];if(e&&(e=e.element)){var f=e.getElement();if(AdfDomUtils.isAncestorOrSelf(f,a))return e}}return null};
function AdfDhtmlPopupWindow(){this.Init()}AdfObject.createSubclass(AdfDhtmlPopupWindow,AdfAbstractFloatingElement);AdfDhtmlPopupWindow.__CANCELED_EXPANDO="data-afr-iscanceled";AdfDhtmlPopupWindow.__REPLACEDOM_EXPANDO="data-afr-isreplacedom";AdfDhtmlPopupWindow.__POPUPID_EXPANDO="data-afr-popupid";AdfDhtmlPopupWindow.__POPUP_CONTAINER_ID="popup-container";AdfDhtmlPopupWindow._SLIDE_UP="up";AdfDhtmlPopupWindow._SLIDE_DOWN="down";AdfDhtmlPopupWindow._SLIDE_LEFT="left";
AdfDhtmlPopupWindow._SLIDE_RIGHT="right";
AdfDhtmlPopupWindow.InitClass=function(){this._SCROLL_POSITION_EXPANDO="data-afr-sclptn";this._ANIMATE_WRAPPER_EXPANDO="data-afr-taw";this._POPUP_TAIL_TOP_LEFT_STYLECLASS="AFPopupTailTopLeft";this._POPUP_TAIL_TOP_RIGHT_STYLECLASS="AFPopupTailTopRight";this._POPUP_TAIL_TOP_CENTER_STYLECLASS="AFPopupTailTopCenter";this._POPUP_TAIL_BOTTOM_LEFT_STYLECLASS="AFPopupTailBottomLeft";this._POPUP_TAIL_BOTTOM_RIGHT_STYLECLASS="AFPopupTailBottomRight";this._POPUP_TAIL_BOTTOM_CENTER_STYLECLASS="AFPopupTailBottomCenter";
this._POPUP_TAIL_MIDDLE_LEFT_STYLECLASS="AFPopupTailMiddleLeft";this._POPUP_TAIL_MIDDLE_RIGHT_STYLECLASS="AFPopupTailMiddleRight";this._POPUP_TAIL_STYLECLASS="AFPopupTail";this._POPUP_TAIL_SIMPLE_STYLECLASS="AFPopupTailSimple"};AdfDhtmlPopupWindow.prototype.Init=function(){AdfDhtmlPopupWindow.superclass.Init.call(this,AdfDhtmlZOrderManager.FLOATINGTYPE_WINDOW);var a=this.CreateDomElement();this.setElement(a);a.style.display="none"};AdfDhtmlPopupWindow.prototype.CreateDomElement=function(){AdfAssert.failedInAbstractFunction()};
AdfDhtmlPopupWindow.prototype.ShouldHideOnClip=function(){return!AdfAgent.AGENT.isTouchFirstDevice()};AdfDhtmlPopupWindow.prototype.NeedsCloseLink=function(){return!!(AdfPage.PAGE.getDomWindow().AdfSafariMobileAgent&&AdfAgent.AGENT instanceof AdfSafariMobileAgent)};
AdfDhtmlPopupWindow.prototype.getInitialPopupTailPosition=function(a){if(a){switch(a){case AdfRichPopup.ALIGN_AFTER_START:a=AdfDhtmlPopupWindow._POPUP_TAIL_TOP_LEFT_STYLECLASS;break;case AdfRichPopup.ALIGN_AFTER_END:a=AdfDhtmlPopupWindow._POPUP_TAIL_TOP_RIGHT_STYLECLASS;break;case AdfRichPopup.ALIGN_AFTER_CENTER:a=AdfDhtmlPopupWindow._POPUP_TAIL_TOP_CENTER_STYLECLASS;break;case AdfRichPopup.ALIGN_BEFORE_START:a=AdfDhtmlPopupWindow._POPUP_TAIL_BOTTOM_LEFT_STYLECLASS;break;case AdfRichPopup.ALIGN_BEFORE_END:a=
AdfDhtmlPopupWindow._POPUP_TAIL_BOTTOM_RIGHT_STYLECLASS;break;case AdfRichPopup.ALIGN_BEFORE_CENTER:a=AdfDhtmlPopupWindow._POPUP_TAIL_BOTTOM_CENTER_STYLECLASS;break;case AdfRichPopup.ALIGN_END_AFTER:a=AdfDhtmlPopupWindow._POPUP_TAIL_BOTTOM_LEFT_STYLECLASS;break;case AdfRichPopup.ALIGN_END_BEFORE:a=AdfDhtmlPopupWindow._POPUP_TAIL_TOP_LEFT_STYLECLASS;break;case AdfRichPopup.ALIGN_END_CENTER:a=AdfDhtmlPopupWindow._POPUP_TAIL_MIDDLE_LEFT_STYLECLASS;break;case AdfRichPopup.ALIGN_START_AFTER:a=AdfDhtmlPopupWindow._POPUP_TAIL_BOTTOM_RIGHT_STYLECLASS;
break;case AdfRichPopup.ALIGN_START_BEFORE:a=AdfDhtmlPopupWindow._POPUP_TAIL_TOP_RIGHT_STYLECLASS;break;case AdfRichPopup.ALIGN_START_CENTER:a=AdfDhtmlPopupWindow._POPUP_TAIL_MIDDLE_RIGHT_STYLECLASS;break;default:a=""}return a}};
AdfDhtmlPopupWindow.prototype._adjustPopupPosition=function(a,b,d){if(!this._tailElement)return{left:b,top:a};var e=this._tailElement.offsetWidth,f=this._tailElement.offsetHeight;switch(d){case AdfDhtmlPopupWindow._POPUP_TAIL_TOP_LEFT_STYLECLASS:case AdfDhtmlPopupWindow._POPUP_TAIL_BOTTOM_LEFT_STYLECLASS:b+=e;break;case AdfDhtmlPopupWindow._POPUP_TAIL_MIDDLE_LEFT_STYLECLASS:b+=e;e=this.getElement().offsetHeight;e=Math.round((e/2-f/2)/e*100);this._tailElement.style.top=e+"%";break;case AdfDhtmlPopupWindow._POPUP_TAIL_TOP_RIGHT_STYLECLASS:case AdfDhtmlPopupWindow._POPUP_TAIL_BOTTOM_RIGHT_STYLECLASS:b-=
e;break;case AdfDhtmlPopupWindow._POPUP_TAIL_MIDDLE_RIGHT_STYLECLASS:b-=e;e=this.getElement().offsetHeight;e=Math.round((e/2-f/2)/e*100);this._tailElement.style.top=e+"%";break;case AdfDhtmlPopupWindow._POPUP_TAIL_TOP_CENTER_STYLECLASS:a+=f;f=this.getElement().offsetWidth;e=Math.round((f/2-e/2)/f*100);this._tailElement.style.left=e+"%";break;case AdfDhtmlPopupWindow._POPUP_TAIL_BOTTOM_CENTER_STYLECLASS:a-=f,f=this.getElement().offsetWidth,e=Math.round((f/2-e/2)/f*100),this._tailElement.style.left=
e+"%"}return{left:b,top:a}};
AdfDhtmlPopupWindow.prototype.setPosition=function(a,b){var d=this.GetPositionManagerIndex();if(0<=d&&this._tailElement&&(d=AdfPage.PAGE.getPositionManager().getComputedBehavior(d))){var e=d.horizontalBehavior,f="AFPopupTail";switch(d.verticalBehavior.floatingElementAnchor){case AdfDhtmlPositionManager.TOP:f+="Top";break;case AdfDhtmlPositionManager.BOTTOM:f+="Bottom";break;case AdfDhtmlPositionManager.MIDDLE:f+="Middle";break;default:AdfAssert.assert(!1,"Invalid floatingElementAnchor for verticalBehavior provided."),AdfLogger.LOGGER.warning("Invalid floatingElementAnchor for verticalBehavior provided.")}switch(e.floatingElementAnchor){case AdfDhtmlPositionManager.LEFT:f+=
"Left";break;case AdfDhtmlPositionManager.RIGHT:f+="Right";break;case AdfDhtmlPositionManager.CENTER:f+="Center";break;default:AdfAssert.assert(!1,"Invalid floatingElementAnchor for horizontalBehavior provided."),AdfLogger.LOGGER.warning("Invalid floatingElementAnchor for horizontalBehavior provided.")}AdfDomUtils.removeCSSClassName(this._tailElement,this._tailPosition);this._tailPosition=f;AdfDomUtils.addCSSClassName(this._tailElement,f);d=this._adjustPopupPosition(a,b,f);a=d.top;b=d.left}AdfDhtmlPopupWindow.superclass.setPosition.call(this,
a,b)};AdfDhtmlPopupWindow.prototype.getTailElement=function(){return this._tailElement};
AdfDhtmlPopupWindow.prototype.show=function(a){AdfAssert.assertObject(a,"Cannot show a popup element without hints");var b=a[AdfDhtmlPopupHints.COMPONENT_CLIENT_ID];AdfPage.PAGE.__perfTimings(!1,!1,!0,"popup show called: type\x3d",a[AdfDhtmlPopupHints.TYPE],", id\x3d",b);this._componentId=b;this.setAlignElement(a[AdfDhtmlPopupHints.ALIGN_ELEMENT]);var d=a[AdfRichPopup.HINT_ALIGN],e=a[AdfDhtmlPopupHints.RESTORE_IMMEDIATE];this._closingAnimationHints={};this._closingAnimationHints[AdfDhtmlPopupHints.CLOSE_TRANSITION]=
a[AdfDhtmlPopupHints.CLOSE_TRANSITION];this._isOpening=!0;var f=a[AdfDhtmlPopupHints.OPENED_HANDLER],g=a[AdfDhtmlPopupHints.OPENED_HANDLER_PARAM];f&&this.addOpenedHandler(f,g);var g=a[AdfDhtmlPopupHints.MOUSEPOSITION],h=a[AdfDhtmlPopupHints.POSITION_CENTER];!0===a[AdfDhtmlPopupHints.AUTODISMISS]&&(a[AdfDhtmlPopupHints.AUTODISMISS]=AdfDhtmlPopupHints.AUTODISMISS_ALWAYS);f=a[AdfDhtmlPopupHints.CLOSE_ON_ESCAPE];null==f&&(f=!0);this._closeOnEscape=f;this._launchSourceId=a[AdfRichPopup.HINT_LAUNCH_ID];
if(f=a[AdfDhtmlPopupHints.MAX_WIDTH])AdfAssert.assertNumeric(f,"AdfDhtmlPopupHints.MAX_WIDTH"),this._maxWidth=f;var f=AdfPage.PAGE,k=f.findComponent(b);AdfAssert.assert(null!=k,"Cannot show a popup element without a valid component");this.getElement().id=AdfRichUIPeer.createSubId(b,AdfDhtmlPopupWindow.__POPUP_CONTAINER_ID);var l=a[AdfDhtmlPopupHints.FOCUS];null==l&&(l=!0);var m=AdfPage.PAGE.getDomWindow();0==l&&m.AdfSafariMobileAgent&&AdfAgent.AGENT instanceof AdfSafariMobileAgent&&(l=!0);e&&(l=!1);
if(l&&(m=f.getActiveDomElement())){var n=m.id;n||(n=f.getActiveComponentId(),n||(n=m.id=(new Date).getTime()));this._restoreFocusId=n;AdfLogger.LOGGER.fine("In AdfDhtmlPopupWindow#show(), _restoreFocusId set to "+n)}this.SetFocusOnOpen(l);if(l=a[AdfDhtmlPopupHints.CONTENT]){this._maxWidth&&(l.style.maxWidth=this._maxWidth+"px");if(!this.ImmediateZorderRegistration()){var m=f.getZOrderManager(),n=this.getElement(),p=this.GetFloatingType();switch(this._zorderScope=a[AdfDhtmlPopupHints.ZORDER_SCOPE]){case AdfDhtmlPopupHints.ZORDER_SCOPE_CONTAINED_FORM:var q=
AdfDhtmlPopupWindow._getFormElementId(l);m.addElementToLayer(n,p,null,q);break;case AdfDhtmlPopupHints.ZORDER_SCOPE_BODY:m.addElementToLayer(n,p);break;default:q=this.GetFirstFormId(),m.addElementToLayer(n,p,null,q)}}l=a[AdfDhtmlPopupHints.CONTENT]=this.WrapContent(a,l);this.setContent(l)}this.setAccessibleAttrs(a);m=a[AdfDhtmlPopupHints.ANIMATE];f.isAnimationEnabled()&&m!=AdfRichPopup.ANIMATE_FALSE&&(n=this.GetAnimationDurationSkinProperty(a))&&(p=parseInt(f.getLookAndFeel().getSkinProperty(n)),
0<p&&(n=this.GetAnimateSkinProperty(),(n?f.getLookAndFeel().getSkinProperty(n):null)!=AdfRichPopup.ANIMATE_FALSE||m==AdfRichPopup.ANIMATE_TRUE))&&(this._animationDuration=p,this._closingAnimationHints[AdfDhtmlPopupHints.ANIMATE]=a[AdfDhtmlPopupHints.ANIMATE]);this.setCloseHandler(a[AdfDhtmlPopupHints.CLOSE_HANDLER]);this.setCloseHandlerParam(a[AdfDhtmlPopupHints.CLOSE_HANDLER_PARAM]);this.getElement().style.visibility="hidden";g?this._positionAtMousePointer(g):h?this._positionAtScreenCenter():d&&
this.Position(d);this.DoShow(a);f.getAutoDismissalManager().addBehavior(k,a);d=AdfDhtmlPopupWindow._createFocusPagePropertyKey(b);e?(this._sizeTimeout=0,this._size(a),(e=f.getPageProperty(d))?(e=AdfAgent.AGENT.getElementById(e))&&AdfDomUtils.isAncestor(l,e)&&AdfFocusUtils.isFocusable(e)&&AdfFocusUtils.focusElement(e):AdfDhtmlDialogManager.getInstance().getActiveDialog()==this&&this.FocusOnFirstElement(!0)):this._sizeTimeout=f.scheduleTimer(this,this.createCallback(this._size),a,1,{isSynchronized:!0});
f.setPageProperty(d,null);e=this.getElement();a[AdfDhtmlPopupHints.SURROGATE_CLIENT_ID]?e.setAttribute(AdfDhtmlPopupWindow.__POPUPID_EXPANDO,a[AdfDhtmlPopupHints.SURROGATE_CLIENT_ID]):b&&e.setAttribute(AdfDhtmlPopupWindow.__POPUPID_EXPANDO,b)};AdfDhtmlPopupWindow._getFormElementId=function(a){AdfAssert.assertDomNode(a);for(var b,d=a.ownerDocument,e=AdfAgent.AGENT;a&&a!=d;){if("FORM"==e.getNodeName(a)){b=a.getAttribute("id");break}a=a.parentNode}return b};
AdfDhtmlPopupWindow.prototype.getPopupClientId=function(){return this._componentId};
AdfDhtmlPopupWindow.prototype.OpenedPopup=function(a){if(this._isOpening){delete this._isOpening;this.announceOpeningViaLiveRegion(a);this._registerEventHandlers(a);var b=this._openedHandlers,d=this._openedHandlerParams;delete this._openedHandlers;delete this._openedHandlerParams;if(a){a=this.getContent();if(!b){this.FocusOnFirstElement();AdfPage.PAGE.__perfTimings(!1,!1,!0,"popup opened no handler present: id\x3d"+this._componentId);return}this.RestoreScrollValues(a);this.FocusOnFirstElement()}if(b){for(a=
0;a<b.length;a++)try{(0,b[a])(d[a])}catch(e){AdfLogger.LOGGER.logErrorAsWarning(e,"popup opened handler failed.")}AdfPage.PAGE.__perfTimings(!1,!1,!0,"popup opened handler present: id\x3d"+this._componentId)}else AdfPage.PAGE.__perfTimings(!1,!1,!0,"popup opened no handler present: id\x3d"+this._componentId)}};
AdfDhtmlPopupWindow.prototype.WrapContent=function(a,b){var d=AdfPage.PAGE.getDomDocument().createElement("table");this._resizeAnchorId=d.id=AdfRichUIPeer.CreateSubId(this._componentId,""+(new Date).getTime());AdfAgent.AGENT.elementsAdded(d);d.cellPadding=d.cellSpacing=0;d.insertRow(0).insertCell(0).appendChild(b);d.style.position="relative";d.role="presentation";return d};
AdfDhtmlPopupWindow.prototype._registerEventHandlers=function(a){var b=AdfAgent.AGENT,d=AdfPage.PAGE.getDomDocument(),e=this.getElement();a&&a[AdfDhtmlPopupHints.COMPONENT_EVENTS_ENABLED]||(a=this._keyUpCallback=this.createCallback(this._handleKeyUp),b.addBubbleEventListener(d,"keyup",a),d=this._keyDownCallback=this.createCallback(this._handleKeyDown),b.addBubbleEventListener(e,"keydown",d));e=this._resizeCallback=this.createCallback(this._handleResize);b.addResizeListener(this._resizeAnchorId,e)};
AdfDhtmlPopupWindow.prototype._handleResize=function(){this.autoSize();var a=this.getContent();this.DoResizeNotifyDom(a);null!=this._positionManagerIndex&&AdfPage.PAGE.getPositionManager().validatePosition(this._positionManagerIndex)};
AdfDhtmlPopupWindow.prototype._unregisterEventHandlers=function(){var a=AdfPage.PAGE.getDomDocument(),b=AdfAgent.AGENT,d=this.getElement(),e=this._keyUpCallback;e&&(b.removeBubbleEventListener(a,"keyup",e),delete this._keyUpCallback);if(a=this._keyDownCallback)b.removeBubbleEventListener(d,"keydown",a),delete this._keyDownCallback;this._resizeCallback&&(b.removeResizeListener(this._resizeAnchorId,this._resizeCallback),delete this._resizeAnchorId,delete this._resizeCallback)};
AdfDhtmlPopupWindow.prototype.hide=function(){if(!this._isHiding){this._isHiding=!0;AdfPage.PAGE.__perfTimings(!1,!1,!0,"popup hide called: id\x3d"+this._componentId);if(this._animator&&this._isOpening){this._animator.stop();var a=this.getElement().parentNode;AdfDhtmlPopupWindow.OpenAnimationComplete({wrapper:a,myself:this})}this._closingAnimationHints[AdfDhtmlPopupHints.ANIMATE]!=AdfRichPopup.ANIMATE_FALSE&&0<this._animationDuration?this.AnimateClosing(this._closingAnimationHints):this.ClosedPopup()}};
AdfDhtmlPopupWindow.prototype.ClosedPopup=function(){var a=AdfPage.PAGE,b=this.getContent();this.removeAccessibleAttrs();this.SaveScrollValues(b);var b=a.findComponent(this._componentId),d=AdfDhtmlPopupWindow._getInternalPopupId(this,b);a.getAutoDismissalManager().removeBehavior(b,d);if(!this._isRestoring(b)&&(null==a.getActiveDomElement()||AdfFocusUtils.containsFocus(this.getElement()))&&!AdfFocusUtils.isFocusChangePending())try{this._restoreFocus()}catch(e){AdfLogger.LOGGER.logErrorAsWarning(e,
"restoring popup focus")}this._unregisterEventHandlers();if(b=this._closeHandler)delete this._closeHandler,b(this._closeHandlerParam),delete this._closeHandlerParam;this.destroy();delete this._isHiding;a.__perfTimings(!1,!1,!0,"popup hidden: id\x3d"+this._componentId)};AdfDhtmlPopupWindow._getInternalPopupId=function(a,b){if(b){var d=b.getPeer();if(d&&(d=d.getAllPopups(b)))for(popupId in d)if(d[popupId]===a)return popupId}return null};
AdfDhtmlPopupWindow.prototype._isRestoring=function(a){var b=!1;a instanceof AdfRichPopup&&a.getAutoCancel()==AdfRichPopup.AUTO_CANCEL_DISABLED&&(a=AdfDhtmlPopupWindow._createFocusPagePropertyKey(a.getClientId()),b=page.getPageProperty(a)?!0:!1);return b};
AdfDhtmlPopupWindow.prototype.cancel=function(a){var b=this._closeHandlerParam.contentDom;b.setAttribute(AdfDhtmlPopupWindow.__CANCELED_EXPANDO,!0);b.setAttribute(AdfDhtmlPopupWindow.__REPLACEDOM_EXPANDO,a?!0:!1);this._closingAnimationHints&&a&&(this._closingAnimationHints[AdfDhtmlPopupHints.ANIMATE]=AdfRichPopup.ANIMATE_FALSE);if(this._isHiding)this._animator&&a&&(this._animator.stop(),a=this.getElement().parentNode,AdfDhtmlPopupWindow.CloseAnimationComplete({wrapper:a,myself:this}));else{if(a&&
AdfFocusUtils.containsFocus(this.getElement())){a=this.getPopupClientId();a=AdfDhtmlPopupWindow._createFocusPagePropertyKey(a);var b=AdfPage.PAGE,d=b.getActiveDomElement();d&&d.id&&b.setPageProperty(a,d.id)}AdfDhtmlPopupWindow.superclass.cancel.call(this)}};AdfDhtmlPopupWindow._createFocusPagePropertyKey=function(a){AdfAssert.assertString(a);return a.split(":").join("$")+"$restoreFocus"};
AdfDhtmlPopupWindow.prototype._restoreFocus=function(){var a=AdfAgent.AGENT,b=AdfPage.PAGE,d={},e,f=this.getElement();if(a.getPlatform()==AdfAgent.IE_PLATFORM&&!(this instanceof AdfDhtmlSimpleFloat)){var g=b.getDomWindow().event;g&&-1!==g.type.indexOf("mouse")&&(g=a.getEventTarget(g))&&AdfFocusUtils.isFocusable(g)&&!AdfDomUtils.isAncestorOrSelf(f,g)&&(e=g)}e||(e=this.getAlignElement());AdfLogger.LOGGER.fine("In AdfDhtmlPopupWindow#_restoreFocus(), _restoreFocusId set to "+this._restoreFocusId);!this._restoreFocusId||
e&&AdfFocusUtils.isFocusable(e,d)||(e=a.getDomDocument().getElementById(this._restoreFocusId));e&&AdfFocusUtils.isFocusable(e,d)||(g=this.GetLaunchSourceElement())&&(e=g);e?a.getPlatform()==AdfAgent.IE_PLATFORM?(a={},a.focusElement=e,a.popupElement=f,b.scheduleTimer(this,this._delayedCheckedFocus,a,10,{isSynchronized:!0})):AdfFocusUtils.isFocusable(e,d)?AdfFocusUtils.focusElement(e):AdfFocusUtils.focusNextTabStop(e):AdfFocusUtils.focusFirstDocumentTabStop()};
AdfDhtmlPopupWindow.prototype._delayedCheckedFocus=function(a){var b=a.popupElement;a=a.focusElement;AdfFocusUtils.isFocusable(AdfPage.PAGE.getActiveDomElement())||AdfDomUtils.isAncestorOrSelf(b,a)||(AdfFocusUtils.isFocusable(a)?AdfFocusUtils.focusElement(a):AdfFocusUtils.focusNextTabStop(a))};AdfDhtmlPopupWindow.prototype.GetLaunchSourceElement=function(){var a=this._launchSourceId;return a?AdfAgent.AGENT.getElementById(a):null};
AdfDhtmlPopupWindow.prototype.setContent=function(a){var b=this.GetContentParent();b.firstChild&&b.removeChild(b.firstChild);b.appendChild(a)};AdfDhtmlPopupWindow.prototype.setAccessibleAttrs=function(a){};AdfDhtmlPopupWindow.prototype.removeAccessibleAttrs=function(){};AdfDhtmlPopupWindow.prototype.announceOpeningViaLiveRegion=function(a){};AdfDhtmlPopupWindow.prototype.getContent=function(){return this.GetContentParent().firstChild};AdfDhtmlPopupWindow.prototype.GetContentParent=function(){AdfAssert.failedInAbstractFunction()};
AdfDhtmlPopupWindow.prototype.setCloseHandler=function(a){this._closeHandler=a};AdfDhtmlPopupWindow.prototype.setCloseHandlerParam=function(a){this._closeHandlerParam=a};AdfDhtmlPopupWindow.prototype.isVisible=function(){return"none"!=this.getElement().style.display};AdfDhtmlPopupWindow.prototype.DoShow=function(a){AdfDhtmlPopupWindow.superclass.show.call(this);this.raiseToFront()};
AdfDhtmlPopupWindow.prototype.CreateShadow=function(a){!this.HasShadow()||this._animationDuration&&!a||AdfDhtmlShadowDecorator.createShadowDecorator(this.getShadowAnchor(),this.getElement().parentNode)};AdfDhtmlPopupWindow.prototype.HasShadow=function(){return!0};AdfDhtmlPopupWindow.prototype.shouldInvertPosition=function(){return!0};
AdfDhtmlPopupWindow.prototype.destroy=function(){var a=AdfPage.PAGE;AdfAgent.AGENT.elementsRemoved(this.getElement());this._restoreFocusElement=null;null!=this._sizeTimeout&&(a.cancelTimer(this._sizeTimeout),delete this._sizeTimeout);var b=this.getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(b)&&AdfDhtmlShadowDecorator.removeShadowDecorator(b);null!=this._positionManagerIndex&&a.getPositionManager().removeElement(this._positionManagerIndex);this.setAlignElement(null);AdfDhtmlPopupWindow.superclass.destroy.call(this)};
AdfDhtmlPopupWindow.prototype.isAnimating=function(){return null!=this._animator||this._isOpening};AdfDhtmlPopupWindow.prototype.GetPositionManagerIndex=function(){return this._positionManagerIndex};
AdfDhtmlPopupWindow.prototype._handleKeyDown=function(a){var b=AdfAgent.AGENT,d=b.getEventTarget(a),e=this.getElement();if(a.keyCode==AdfKeyStroke.TAB_KEY){var f=AdfFocusUtils.getFirstTabStop(e),g=AdfFocusUtils.getLastTabStop(e);if(null==f){b.eatEvent(a);return}if(f==g){a.preventDefault();return}a.shiftKey?d==f&&(AdfFocusUtils.focusPreviousTabStop(d,e),b.eatEvent(a)):g==d&&(AdfFocusUtils.focusNextTabStop(d,e),b.eatEvent(a))}a.keyCode==AdfKeyStroke.F6_KEY&&AdfDomUtils.isAncestorOrSelf(e,d)&&this.HandleKeyNavigation(a)};
AdfDhtmlPopupWindow.prototype._handleKeyUp=function(a){var b=AdfAgent.AGENT,d=b.getKeyCode(a),e=b.getEventTarget(a);if(d==AdfKeyStroke.ESC_KEY&&this._closeOnEscape){var f=!1,g=this._launchSourceId;AdfDomUtils.isAncestorOrSelf(this.getElement(),e)?f=!0:g&&(b=b.getElementById(g))&&AdfDomUtils.isAncestorOrSelf(b,e)&&(f=!0);f&&this.HandleEscapeKey(a)}a.ctrlKey&&a.altKey&&d==AdfKeyStroke.W_KEY&&AdfDomUtils.isAncestorOrSelf(this.getElement(),e)&&this.HandleKeyNavigation(a)};
AdfDhtmlPopupWindow.prototype.HandleEscapeKey=function(a){this.cancel();AdfAgent.AGENT.eatEvent(a)};AdfDhtmlPopupWindow.prototype.HandleKeyNavigation=function(a){};
AdfDhtmlPopupWindow.prototype._size=function(a){if(null!=this._sizeTimeout){delete this._sizeTimeout;var b=this.getContent();this.DoResizeNotifyDom(b);var b=this.getElement(),d=b.style;null!=this._positionManagerIndex&&(a[AdfDhtmlPopupHints.POSITION_CENTER]&&this.setAlignPosition(this._getScreenCenterPosition()),AdfPage.PAGE.getPositionManager().validatePosition(this._positionManagerIndex));var e=this._maxWidth;e?d.width=Math.min(b.offsetWidth+1,e)+"px":(e=AdfAgent.AGENT,e.getPlatform()==AdfAgent.IE_PLATFORM&&
e.getVersion(),d.width=b.offsetWidth+1+"px");0<this.GetAnimationDuration()?this.AnimateOpening(a):(d.visibility="",this.CreateShadow(),this.OpenedPopup(a))}};AdfDhtmlPopupWindow.prototype.AnimateOpening=function(a){this.AnimateUsingWrapper(this.GetAnimationDuration(),a,!0)};
AdfDhtmlPopupWindow.prototype._getAnchorProperties=function(){var a={isRight:!1,isBottom:!1},b=this.GetPositionManagerIndex();0<=b&&(b=AdfPage.PAGE.getPositionManager().getComputedBehavior(b))&&(a.isRight=b.horizontalBehavior.floatingElementAnchor==AdfDhtmlPositionManager.RIGHT,a.isBottom=b.verticalBehavior.floatingElementAnchor==AdfDhtmlPositionManager.BOTTOM);return a};AdfDhtmlPopupWindow.prototype.AnimateClosing=function(a){this.AnimateUsingWrapper(this.GetCloseAnimationDuration(),a,!1)};
AdfDhtmlPopupWindow.prototype.AnimateUsingWrapper=function(a,b,d){var e=this.getElement(),f=AdfDhtmlPopupWindow._getElementStyle(e),g=AdfDhtmlPopupWindow._createTransitionWrapper(e),f=AdfDhtmlPopupWindow._setUpWrapperTransition(e,g,b,d,f,this._getAnchorProperties());null!=f?(d&&this.SaveScrollValues(e),e.parentNode.replaceChild(g,e),g.appendChild(e),d&&AdfPage.PAGE.prepareMaskingFrame(e),this._animator=AdfDhtmlElementAnimator.animate(AdfDhtmlElementAnimator.FRAME_METHOD_CONSTANT_SPEED,a,[{element:g,
properties:f}],null,d?AdfDhtmlPopupWindow.OpenAnimationComplete:AdfDhtmlPopupWindow.CloseAnimationComplete,{wrapper:g,myself:this,hints:b})):d?(e.style.visibility="",this.CreateShadow(),this.OpenedPopup(b)):this.ClosedPopup()};AdfDhtmlPopupWindow._getElementStyle=function(a){var b={};b.height=a.offsetHeight;b.width=a.offsetWidth;b.top=parseInt(a.style.top);b.left=parseInt(a.style.left);b.right=b.left+b.width;return b};
AdfDhtmlPopupWindow._createTransitionWrapper=function(a){var b=a.ownerDocument.createElement("div");b.setAttribute(AdfDhtmlPopupWindow._ANIMATE_WRAPPER_EXPANDO,!0);b.style.overflow="hidden";b.style.position="absolute";b.style.zIndex=a.style.zIndex;return b};
AdfDhtmlPopupWindow._setUpWrapperTransition=function(a,b,d,e,f,g){d=e?d[AdfDhtmlPopupHints.OPEN_TRANSITION]:d[AdfDhtmlPopupHints.CLOSE_TRANSITION];return!e||d&&d!=AdfDhtmlPopupHints.TRANSITION_AUTO?d==AdfDhtmlPopupHints.TRANSITION_VERTICAL||d==AdfDhtmlPopupHints.TRANSITION_HORIZONTAL?AdfDhtmlPopupWindow._slideTransition(a,b,f,e,d,g):null:AdfDhtmlPopupWindow._growTransition(a,b,f,g)};
AdfDhtmlPopupWindow._growTransition=function(a,b,d,e){a=a.style;a.top="0px";a.left="0px";b=b.style;b.height="1px";b.width="1px";var f={height:d.height,width:d.width};e.isRight?(b.left=d.left+d.width-1+"px",f.left=d.left):b.left=d.left+"px";e.isBottom?(b.top=d.top+d.height+1+"px",f.top=d.top):b.top=d.top+"px";a.visibility="";return f};
AdfDhtmlPopupWindow._slideTransition=function(a,b,d,e,f,g){a=a.style;b=b.style;var h={};f=AdfDhtmlPopupWindow._getSlideDirection(e,f,g);if(f==AdfDhtmlPopupWindow._SLIDE_LEFT||f==AdfDhtmlPopupWindow._SLIDE_RIGHT)h=AdfDhtmlPopupWindow._horizontalSlideTransition(a,b,d,e,f);else if(f==AdfDhtmlPopupWindow._SLIDE_UP||f==AdfDhtmlPopupWindow._SLIDE_DOWN)h=AdfDhtmlPopupWindow._verticalSlideTransition(a,b,d,e,f);a.visibility="";return h};
AdfDhtmlPopupWindow._getSlideDirection=function(a,b,d){if(b==AdfDhtmlPopupHints.TRANSITION_HORIZONTAL)return d.isRight&&a||!d.isRight&&!a?AdfDhtmlPopupWindow._SLIDE_LEFT:AdfDhtmlPopupWindow._SLIDE_RIGHT;if(b==AdfDhtmlPopupHints.TRANSITION_VERTICAL)return d.isBottom&&a||!d.isBottom&&!a?AdfDhtmlPopupWindow._SLIDE_UP:AdfDhtmlPopupWindow._SLIDE_DOWN};
AdfDhtmlPopupWindow._horizontalSlideTransition=function(a,b,d,e,f){a.top="0px";b.top=d.top+"px";b.height=d.height+"px";var g={};e?(b.width="1px",g.width=d.width,f==AdfDhtmlPopupWindow._SLIDE_LEFT?(a.left="0px",b.left=d.left+d.width-1+"px",g.left=d.left):(a.left="auto",a.right="0px",b.left=d.left+"px")):(b.width=d.width+"px",g.width=1,f==AdfDhtmlPopupWindow._SLIDE_LEFT?(a.left="auto",a.right="0px",b.left=d.left+"px"):(a.left="0px",b.left=d.left-1+"px",g.left=d.left+d.width-1));return g};
AdfDhtmlPopupWindow._verticalSlideTransition=function(a,b,d,e,f){a.left="0px";b.width=d.width+"px";b.left=d.left+"px";var g={};e?(b.height="1px",g.top=d.top,g.height=d.height,f==AdfDhtmlPopupWindow._SLIDE_UP?(a.top="0px",b.top=d.top+d.height-1+"px"):(a.top="auto",a.bottom="0px",a.height=d.height+"px",b.top=d.top+1+"px")):(b.height=d.height+"px",b.top=d.top+"px",g.height=1,f==AdfDhtmlPopupWindow._SLIDE_UP?(a.top="auto",a.bottom="0px"):(a.top="0px",a.height=d.height+"px",b.top=d.top+"px",g.top=d.top+
d.height));return g};AdfDhtmlPopupWindow.CloseAnimationComplete=function(a){var b=a.myself;a=a.wrapper;b._animator&&(delete b._animator,AdfDhtmlPopupWindow._restoreRootPostAnimation(a),b.ClosedPopup())};AdfDhtmlPopupWindow._restoreRootPostAnimation=function(a){var b=a.style,d=a.firstChild,e=d.style;e.right=b.right;e.left=b.left;e.top=b.top;a.parentNode.replaceChild(d,a)};
AdfDhtmlPopupWindow.OpenAnimationComplete=function(a){var b=a.wrapper,d=a.myself;a=a.hints;d._animator&&(delete d._animator,AdfDhtmlPopupWindow._restoreRootPostAnimation(b),d.CreateShadow(!0),d.OpenedPopup(a))};AdfDhtmlPopupWindow.prototype.GetAnimationDuration=function(){return this._animationDuration};AdfDhtmlPopupWindow.prototype.GetCloseAnimationDuration=function(){return this._animationDuration};AdfDhtmlPopupWindow.prototype.GetAnimationDurationSkinProperty=function(a){return null};
AdfDhtmlPopupWindow.prototype.GetAnimateSkinProperty=function(){return null};AdfDhtmlPopupWindow.prototype.autoSize=function(){var a=this._isOpening;if(this.isVisible()&&!a){var a=this.getElement(),b=a.style;b.width="auto";var d=this._maxWidth;b.width=d?Math.min(a.offsetWidth,d)+"px":a.offsetWidth+"px";a=this.getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&(AdfDhtmlShadowDecorator.moveShadowDecorator(a),AdfDhtmlShadowDecorator.showShadowDecorator(a,!0))}};
AdfDhtmlPopupWindow.prototype.FocusOnFirstElement=function(a){var b=this.GetFocusOnOpen();if(a||b){b=this.GetFocusContent();a=AdfFocusUtils.getFirstTabStop(b);if(!a){var d=this.getElement();d!=b&&(a=AdfFocusUtils.getFirstTabStop(d));a||(b.tabIndex=-1,a=b)}a&&(b=AdfAgent.AGENT,AdfAgent.IE_PLATFORM==b.getPlatform()&&8==b.getVersion()?AdfFocusUtils.focusElementDelayed(a,1E3):AdfFocusUtils.focusElement(a))}};AdfDhtmlPopupWindow.prototype.GetFocusContent=function(){return this.getElement()};
AdfDhtmlPopupWindow.prototype.Position=function(a){var b=AdfPage.PAGE.getPositionManager(),d=this._positionManagerIndex;d&&(b.removeElement(d),delete this._positionManagerIndex);this._positionManagerIndex=b.addFloatingElement(this,a)};AdfDhtmlPopupWindow.prototype._positionAtMousePointer=function(a){this._positionManagerIndex=AdfPage.PAGE.getPositionManager().addFloatingElementByPosition(this,a)};
AdfDhtmlPopupWindow.prototype._positionAtScreenCenter=function(){var a=AdfPage.PAGE.getPositionManager(),b=this._positionManagerIndex;b&&(a.removeElement(b),delete this._positionManagerIndex);b=!this.HasShadow();this._positionManagerIndex=a.addFloatingElementByPosition(this,this._getScreenCenterPosition(),b)};
AdfDhtmlPopupWindow.prototype._getScreenCenterPosition=function(){if(this.getAlignElement())return null;var a=AdfAgent.AGENT,b=AdfPage.PAGE.getLocaleContext().isRightToLeft(),d=a.getWindowHeight(),e=a.getWindowWidth(),f=a.getBrowserViewportScrollTop(),g=a.getBrowserViewportScrollLeft();0<f&&a.getPlatform()==AdfAgent.GECKO_PLATFORM&&(d=Math.min(d,a.getDomDocument().body.clientHeight));var a=this.getWidth(),h=this.getHeight(),k=this._topPercentage,l=this._leftPercentage;l||(l=.5);k||(k=.5);b=b?-1:1;
k=Math.max(0,Math.round(d*k-h/2))+f;l=Math.max(0,Math.round(e*l-a/2*b))+b*g;d=d+f-(k+h);0>d&&(k=Math.max(f,k+d));e=e+g-(l+b*a);0>e&&(l=Math.max(g,l+e));g={y:k,x:l};this.setAlignPosition(g);return g};AdfDhtmlPopupWindow.prototype.DoResizeNotifyDom=function(a){AdfPage.PAGE.doResizeNotifyDom(a,!1)};
AdfDhtmlPopupWindow.prototype.SaveScrollValues=function(a){a=a.getElementsByTagName("*");for(var b=a.length,d=0;d<b;d++){var e=a[d],f=e.scrollTop;0<f&&e.setAttribute(AdfDhtmlPopupWindow._SCROLL_POSITION_EXPANDO,f)}};AdfDhtmlPopupWindow.prototype.RestoreScrollValues=function(a){a=a.getElementsByTagName("*");for(var b=a.length,d=0;d<b;d++){var e=a[d],f=e.getAttribute(AdfDhtmlPopupWindow._SCROLL_POSITION_EXPANDO);f&&0<f&&AdfDomUtils.setScrollTop(e,f)}};
AdfDhtmlPopupWindow.prototype.getLaunchSourceId=function(){return this._launchSourceId};AdfDhtmlPopupWindow.prototype.GetFocusOnOpen=function(){return this._focusHint?!0:!1};AdfDhtmlPopupWindow.prototype.SetFocusOnOpen=function(a){this._focusHint=a};AdfDhtmlPopupWindow.prototype.GetMaxWidth=function(){return this._maxWidth};
AdfDhtmlPopupWindow.isAncestorOrSelf=function(a,b){for(var d=AdfAgent.AGENT;b;){if(a==b)return!0;1==b.nodeType&&b.hasAttribute(AdfDhtmlPopupWindow.__POPUPID_EXPANDO)?(popupId=b.getAttribute(AdfDhtmlPopupWindow.__POPUPID_EXPANDO),b=d.getElementById(popupId)):b=b.parentNode}return!1};AdfDhtmlPopupWindow.isPopupWindow=function(a){AdfAssert.assertDomNode(a);return 1==a.nodeType&&a.hasAttribute(AdfDhtmlPopupWindow.__POPUPID_EXPANDO)?!0:!1};AdfDhtmlPopupWindow.prototype.ImmediateZorderRegistration=function(){return!1};
AdfDhtmlPopupWindow.prototype.getZorderScope=function(){return this._zorderScope};AdfDhtmlPopupWindow.prototype.setRestoreFocusId=function(a){this._restoreFocusId=a;AdfLogger.LOGGER.fine("In AdfDhtmlPopupWindow#setRestoreFocusId(), _restoreFocusId set to "+this._restoreFocusId)};
AdfDhtmlPopupWindow.prototype.addOpenedHandler=function(a,b){AdfAssert.assertFunction(a,"popup opened handler");AdfAssert.assertObjectOrNull(b,"popup opened handler function params");var d=this._openedHandlers;d||(d=this._openedHandlers=[]);var e=this._openedHandlerParams;e||(e=this._openedHandlerParams=[]);d.push(a);e.push(b)};
function AdfDhtmlSimpleFloat(){this.Init()}AdfObject.createSubclass(AdfDhtmlSimpleFloat,AdfDhtmlPopupWindow);AdfDhtmlSimpleFloat.InitClass=function(){this._DRAG_STYLECLASS="p_AFDrag";this._INACTIVE_STYLECLASS="p_AFInactive";this._CONTENT_ID="contentContainer";this._BACKGROUND_EXPANDO="data-afr-panelwindowbackground";this._TITLE_ID="_ttxt";this._POPUP_INITIAL_FOCUS_LIVE_CONTENT_ID="AFPopupInitialFocusLiveContent"};AdfDhtmlSimpleFloat.prototype.Init=function(){AdfDhtmlSimpleFloat.superclass.Init.call(this)};
AdfDhtmlSimpleFloat.prototype.getContainedComponentClientId=function(){return this._containedComponentId};
AdfDhtmlSimpleFloat.prototype.GetFocusContent=function(){var a=AdfAgent.AGENT;if(a.getDomWindow().AdfSafariMobileAgent&&a instanceof AdfSafariMobileAgent)return AdfDhtmlSimpleFloat.superclass.GetFocusContent.call(this);var a=this._getContainedComponentPeer(),b=AdfRichUIPeer.CreateSubId(a.getComponent().getClientId(),AdfDhtmlSimpleFloat._CONTENT_ID);(b=AdfAgent.AGENT.getElementById(b))&&AdfAgent.AGENT.getPlatform()==AdfAgent.GECKO_PLATFORM&&(b.tabIndex=-1);b&&(b=AdfFocusUtils.containsFocus(b)?AdfPage.PAGE.getActiveDomElement():
AdfFocusUtils.getFirstTabStop(b));b||(a instanceof AdfDhtmlDialogPeer&&(b=a.getDefaultButtonDom(this.getContainedComponentClientId())),b||(b=a.getDomElement()));return b};AdfDhtmlSimpleFloat.prototype.setContent=function(a){AdfDhtmlSimpleFloat.superclass.setContent.call(this,a);a=this._getMainElement(a);this.setShadowAnchor(a);this._containedComponentId=AdfRichUIPeer.getFirstAncestorComponent(a).getClientId()};
AdfDhtmlSimpleFloat.prototype.setAccessibleAttrs=function(a){var b=this.getElement(),d=this._getContainedComponentPeer(),e=AdfRichUIPeer.CreateSubId(d.getComponent().getClientId(),AdfDhtmlSimpleFloat._CONTENT_ID),d=AdfRichUIPeer.CreateSubId(d.getComponent().getClientId(),AdfDhtmlSimpleFloat._TITLE_ID);b.setAttribute("role","dialog");b.setAttribute("aria-describedby",e);b.setAttribute("aria-labelledby",d);a[AdfDhtmlPopupHints.MODAL]&&b.setAttribute("aria-modal","true")};
AdfDhtmlSimpleFloat.prototype.announceOpeningViaLiveRegion=function(a){if(a&&!a[AdfDhtmlPopupHints.FOCUS]){a=AdfPage.PAGE.getLookAndFeel();var b=AdfPage.PAGE.getDocumentClientId(),b=AdfRichUIPeer.CreateSubId(b,AdfDhtmlDocumentPeer._GLOBAL_LIVE_CONTAINER_ID),b=AdfAgent.AGENT.getElementById(b),d=AdfPage.PAGE.getDomWindow().AdfSafariMobileAgent&&AdfAgent.AGENT instanceof AdfSafariMobileAgent?"af_panelWindow.INITIAL_FOCUS_LIVE_TEXT_MOBILE":"af_panelWindow.INITIAL_FOCUS_LIVE_TEXT";a=a.getTranslatedString(d);
AdfAgent.AGENT.setTextContent(b,a)}};AdfDhtmlSimpleFloat.prototype.removeAccessibleAttrs=function(){var a=AdfPage.PAGE.getDocumentClientId(),a=AdfRichUIPeer.CreateSubId(a,AdfDhtmlDocumentPeer._GLOBAL_LIVE_CONTAINER_ID);(a=AdfAgent.AGENT.getElementById(a))&&AdfAgent.AGENT.setTextContent(a,"")};AdfDhtmlSimpleFloat.prototype._getMainElement=function(a){a=a.getElementsByTagName("table")[0];AdfAssert.assert(a,"Main Element of floating window must be a table");return a};
AdfDhtmlSimpleFloat.prototype.setDragElement=function(a){this._dragElement=a;this._repositionable&&(this._repositionable.destroy(),delete this._repositionable)};AdfDhtmlSimpleFloat.prototype.getModal=function(a){return this._modal};AdfDhtmlSimpleFloat.prototype.setModal=function(a){this._modal=a};AdfDhtmlSimpleFloat.prototype.getInitialFocus=function(a){return this._initialFocus};AdfDhtmlSimpleFloat.prototype.setInitialFocus=function(a){this._initialFocus=a};
AdfDhtmlSimpleFloat.prototype.activate=function(){this.raiseToFront();this.showAsActive();var a=this.getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&AdfDhtmlShadowDecorator.moveShadowDecorator(a);AdfFocusUtils.containsFocus(this.GetFocusContent())||AdfFocusUtils.isFocusChangePending()||this.FocusOnFirstElement(!0)};
AdfDhtmlSimpleFloat.prototype.showAsActive=function(){for(var a=this._getContainedComponentDomElement(),b=a.childNodes,d=b.length,e=0;e<d;e++){var f=b[e],g=f.style;null!=f.getAttribute(AdfDhtmlSimpleFloat._BACKGROUND_EXPANDO)&&(g.display="none")}AdfDomUtils.removeCSSClassName(a,AdfDhtmlSimpleFloat._INACTIVE_STYLECLASS);this.raiseToFront();a=this.getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&(AdfDhtmlShadowDecorator.moveShadowDecorator(a),AdfDhtmlShadowDecorator.showShadowDecorator(a,
!0))};
AdfDhtmlSimpleFloat.prototype.showAsInActive=function(){var a=this.getElement().style.zIndex,b=this._getContainedComponentDomElement();if(b){for(var d=b.offsetWidth,e=b.offsetHeight,f=b.childNodes,g=f.length,h=0,k=0;h<g;h++){var l=f[h],m=l.style;null!=l.getAttribute(AdfDhtmlSimpleFloat._BACKGROUND_EXPANDO)?(m.zIndex=a-1,m.marginLeft=k+"px",m.marginTop=3-k+"px",m.width=Math.max(0,d-2-2*k)+"px",m.height=Math.max(0,e-2-2*(3-k))+"px",m.display="block",k++):m.zIndex=a}AdfDomUtils.addCSSClassName(b,AdfDhtmlSimpleFloat._INACTIVE_STYLECLASS);
a=this.getShadowAnchor();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&(AdfDhtmlShadowDecorator.moveShadowDecorator(a),AdfDhtmlShadowDecorator.showShadowDecorator(a,!0))}};
AdfDhtmlSimpleFloat.prototype.CreateDomElement=function(){var a=AdfPage.PAGE,b=a.getDomDocument(),d=b.createElement("div");if(this.NeedsCloseLink()){var e=b.createElement("div");d.appendChild(e);a=a.getLookAndFeel().getTranslatedString("af_popup.TIP_DISMISS");e.innerHTML='\x3ca href\x3d"javascript:;" style\x3d"position:absolute;top:-999px;" onclick\x3d"var popupDiv \x3d this.parentNode.parentNode;var contentDiv \x3d AdfDomUtils.getChildElements(popupDiv)[1];var label \x3d popupDiv.getAttribute(\'aria-labelledby\');var compId \x3d label.split(\'::\')[0];var comp \x3d AdfPage.PAGE.findComponentByAbsoluteId(compId);var peer \x3d comp.getPeer();peer.bind(comp);peer.Cancel();"\x3e'+a+
"\x3c/a\x3e"}e=b.createElement("div");d.appendChild(e);this.SetContentParent(e);b=b.createElement("div");b.setAttribute("role","presentation");AdfDomUtils.addCSSClassName(b,AdfDhtmlPopupWindow._POPUP_TAIL_STYLECLASS);d.appendChild(b);this._tailElement=b;return d};AdfDhtmlSimpleFloat.prototype.SetContentParent=function(a){this._contentElement=a};AdfDhtmlSimpleFloat.prototype.GetContentParent=function(){return this._contentElement};
AdfDhtmlSimpleFloat.prototype.GetAnimationDurationSkinProperty=function(){var a=this._getContainedComponentPeer();AdfAssert.assertPrototype(a,AdfRichUIPeer);return a.getAnimationDurationSkinProperty()};AdfDhtmlSimpleFloat.prototype.GetAnimateSkinProperty=function(){var a=this._getContainedComponentPeer();AdfAssert.assertPrototype(a,AdfRichUIPeer);return a.getAnimateSkinProperty()};AdfDhtmlSimpleFloat.prototype.ShouldHideOnClip=function(){return!1};
AdfDhtmlSimpleFloat.prototype.handleComponentRemoved=function(){this._bindInited&&(AdfDhtmlShadowDecorator.removeShadowDecorator(this.getShadowAnchor()),this._repositionable&&(this._repositionable.destroy(),delete this._repositionable))};
AdfDhtmlSimpleFloat.prototype.handleBindToComponent=function(){if(!this._repositionable){this.setShadowAnchor(this._getMainElement(this.getContent()));var a=!this.isAnimating();a&&this.CreateShadow(a);if(a=AdfPage.PAGE.findComponent(this._containedComponentId)){var b=a.getPeer();b.bind(a);this.setDragElement(b.getDragElement());this.initializeRepositionable()}}};
AdfDhtmlSimpleFloat.prototype.initializeRepositionable=function(){if(!this._repositionable){var a=this._repositionable=new AdfRepositionable(this,this._dragElement);a.setDragStartHandler(this._dragStartHandler);a.setDragEndHandler(this._dragEndHandler)}};AdfDhtmlSimpleFloat.prototype.HandleEscapeKey=function(a){var b=this._getContainedComponentPeer();b&&b.handleEscapeKey?b.handleEscapeKey(a):AdfDhtmlSimpleFloat.superclass.HandleEscapeKey.call(this.event)};
AdfDhtmlSimpleFloat.prototype.DoShow=function(a){this._bindInited||(this._bindInited=!0,this.handleBindToComponent());this.setDragElement(a[AdfDhtmlPopupHints.DRAG_ELEMENT]);this.setModal(a[AdfDhtmlPopupHints.MODAL]);var b=AdfDhtmlDialogManager.getInstance();b.registerDialog(this);var d=a[AdfDhtmlPopupHints.LEFT_POSITION];d&&isNaN(d)&&(d=parseFloat(d));this._leftPercentage=d;(d=a[AdfDhtmlPopupHints.TOP_POSITION])&&isNaN(d)&&(d=parseFloat(d));this._topPercentage=d;AdfDhtmlSimpleFloat.superclass.DoShow.call(this,
a);this._dragElement&&this.initializeRepositionable();(d=this._modal)&&AdfPage.PAGE.getModalityManager().pushModal(this.getElement());a[AdfDhtmlPopupHints.FOCUS]&&b.activateDialog(this);d&&a[AdfDhtmlPopupHints.RESTORE_IMMEDIATE]&&AdfDhtmlSimpleFloat._isMessageDialogVisible()&&(a=this.getZorderScope(),AdfDhtmlPopupHints.ZORDER_SCOPE_BODY!=a&&AdfPage.PAGE.showMessages())};
AdfDhtmlSimpleFloat.prototype.show=function(a){if(a&&a[AdfRichPopup.HINT_TAIL]&&a[AdfRichPopup.HINT_TAIL]!=AdfRichPopup.TAIL_NONE){var b=this.getInitialPopupTailPosition(a[AdfDhtmlPopupHints.ALIGN]);this._tailPosition=b;AdfDomUtils.addCSSClassName(this._tailElement,b);b=a[AdfRichPopup.HINT_TAIL].charAt(0).toUpperCase()+a[AdfRichPopup.HINT_TAIL].substring(1);AdfDomUtils.addCSSClassName(this.getElement(),"AFDialogTail"+b)}else this._tailElement=null;AdfDhtmlSimpleFloat.superclass.show.call(this,a)};
AdfDhtmlSimpleFloat._isMessageDialogVisible=function(){var a=AdfPage.PAGE,b=a.getDefaultMessageHandlerComponentId(),a=a.findComponent(b),a=a.getPeer().getAllPopups(a),b=0;for(i in a)b++;return 0<b};AdfDhtmlSimpleFloat.prototype.destroy=function(){AdfDhtmlDialogManager.getInstance().unregisterDialog(this);var a=AdfPage.PAGE;this._modal&&a.getModalityManager().popModal(this.getElement());this._repositionable&&(this._repositionable.destroy(),delete this._repositionable);AdfDhtmlSimpleFloat.superclass.destroy.call(this)};
AdfDhtmlSimpleFloat.prototype._getContainedComponentPeer=function(){var a=null;if(null!=this._containedComponentId){var b=AdfPage.PAGE.findComponent(this._containedComponentId);null!=b&&(a=b.getPeer(),a.bind(b))}return a};AdfDhtmlSimpleFloat.prototype._getContainedComponentDomElement=function(){var a=this._getContainedComponentPeer();return null!=a?a.getDomElement():null};
AdfDhtmlSimpleFloat.prototype._dragStartHandler=function(){var a=this._getContainedComponentDomElement();AdfDomUtils.addCSSClassName(a,AdfDhtmlSimpleFloat._DRAG_STYLECLASS);AdfDhtmlShadowDecorator.hasShadowDecorator(this.getShadowAnchor())&&AdfDhtmlShadowDecorator.showShadowDecorator(this.getShadowAnchor(),!1);this._isDragging=!0;this.getAlignElement()&&(this.setAlignElement(null),this.Position(AdfRichPopup.ALIGN_OVERLAP))};
AdfDhtmlSimpleFloat.prototype._dragEndHandler=function(){var a=this._getContainedComponentDomElement();AdfDomUtils.removeCSSClassName(a,AdfDhtmlSimpleFloat._DRAG_STYLECLASS);AdfDhtmlShadowDecorator.hasShadowDecorator(this.getShadowAnchor())&&AdfDhtmlShadowDecorator.showShadowDecorator(this.getShadowAnchor(),!0);delete this._isDragging;this.setPosition(this.getTop(),this.getLeft())};
AdfDhtmlSimpleFloat.prototype.handleActivate=function(a){var b=AdfDhtmlDialogManager.getInstance();return b.getActiveDialog()==this?!1:b.activateDialog(this)?(a&&this.FocusOnFirstElement(),!0):!1};AdfDhtmlSimpleFloat.prototype.isAnimating=function(){return this._isDragging?!0:AdfDhtmlSimpleFloat.superclass.isAnimating.call(this)};AdfDhtmlSimpleFloat.prototype.setDragging=function(a){this._isDragging=a};
AdfDhtmlSimpleFloat.prototype.setShadowVisibility=function(a){var b=this.getShadowAnchor();a?AdfDhtmlShadowDecorator.hasShadowDecorator(b)||AdfDhtmlShadowDecorator.createShadowDecorator(b,this.getElement().parentNode):AdfDhtmlShadowDecorator.hasShadowDecorator(b)&&AdfDhtmlShadowDecorator.removeShadowDecorator(this.getShadowAnchor())};
AdfDhtmlSimpleFloat.prototype.getAlignPosition=function(){if(this.getAlignElement())return null;var a=AdfAgent.AGENT,b=AdfPage.PAGE.getLocaleContext().isRightToLeft(),d=a.getWindowHeight(),e=a.getWindowWidth(),f=a.getBrowserViewportScrollTop(),g=a.getBrowserViewportScrollLeft();0<f&&a.getPlatform()==AdfAgent.GECKO_PLATFORM&&(d=Math.min(d,a.getDomDocument().body.clientHeight));var a=this.getWidth(),h=this.getHeight(),k=this._topPercentage,l=this._leftPercentage;l||(l=.5);k||(k=.5);b=b?-1:1;k=Math.max(0,
Math.round(d*k-h/2))+f;l=Math.max(0,Math.round(e*l-a/2*b))+b*g;d=d+f-(k+h);0>d&&(k=Math.max(f,k+d));e=e+g-(l+b*a);0>e&&(l=Math.max(g,l+e));g={y:k,x:l};this.setAlignPosition(g);return g};
AdfDhtmlSimpleFloat.prototype.setPosition=function(a,b){if(this.getAlignElement())AdfDhtmlSimpleFloat.superclass.setPosition.call(this,a,b);else if(this.isAnimating()){var d=AdfAgent.AGENT,e=d.getWindowHeight(),f=d.getWindowWidth(),g=d.getBrowserViewportScrollTop(),h=d.getBrowserViewportScrollLeft();0<g&&d.getPlatform()==AdfAgent.GECKO_PLATFORM&&(e=Math.min(e,d.getDomDocument().body.clientHeight));var k=this.getHeight(),d=this.getWidth(),l=0;e>k&&(l=(a-g+k/2)/e);e=0;f>d&&(e=(b-h+d/2)/f);!isNaN(l)&&
!isNaN(e)&&1>l&&1>e&&(this._topPercentage=l,this._leftPercentage=e,AdfDhtmlSimpleFloat.superclass.setPosition.call(this,0==l?g:a,0==e?h:b))}else f=this.getPopupClientId(),AdfAssert.assertString(f),(f=AdfPage.PAGE.findComponent(f))&&f instanceof AdfRichPopup&&(g={},g[AdfDhtmlPopupHints.LEFT_POSITION]=this._leftPercentage,g[AdfDhtmlPopupHints.TOP_POSITION]=this._topPercentage,g[AdfRichPopup.HINT_ALIGN]=AdfRichPopup.ALIGN_OVERLAP,g[AdfRichPopup.HINT_ALIGN_ID]="",f.getPeer().syncPrivateProperties(f,g,
!0)),AdfDhtmlSimpleFloat.superclass.setPosition.call(this,a,b)};AdfDhtmlSimpleFloat.prototype.getFirstTabStop=function(){return this.GetFocusContent()};
function AdfDhtmlPopupSelector(){this.Init()}AdfObject.createSubclass(AdfDhtmlPopupSelector,AdfDhtmlPopupWindow);
AdfDhtmlPopupSelector.InitClass=function(){this._STYLECLASS="AFPopupSelector";this._HEADER_STYLECLASS="AFPopupSelectorHeader";this._HEADER_START_STYLECLASS="AFPopupSelectorHeaderStart";this._HEADER_END_STYLECLASS="AFPopupSelectorHeaderEnd";this._CONTENT_STYLECLASS="AFPopupSelectorContent";this._CONTENT_START_STYLECLASS="AFPopupSelectorContentStart";this._CONTENT_END_STYLECLASS="AFPopupSelectorContentEnd";this._FOOTER_STYLECLASS="AFPopupSelectorFooter";this._FOOTER_START_STYLECLASS="AFPopupSelectorFooterStart";
this._FOOTER_END_STYLECLASS="AFPopupSelectorFooterEnd";this._CONTENT_ID="content"};AdfDhtmlPopupSelector.prototype.Init=function(){AdfDhtmlPopupSelector.superclass.Init.call(this)};
AdfDhtmlPopupSelector.prototype.CreateDomElement=function(){var a=AdfPage.PAGE,b=a.getDomDocument(),d=b.createElement("div"),a=a.getLookAndFeel(),e=this.CreateTable(3,3);e.cellPadding=0;e.cellSpacing=0;e.role="presentation";d.appendChild(e);e=e.getElementsByTagName("td");e[1].innerHTML="\x26#160;";var f=e[4];if(this.NeedsCloseLink()){f=b.createElement("div");e[4].appendChild(f);var g=a.getTranslatedString("af_popup.TIP_DISMISS");f.innerHTML='\x3ca href\x3d"javascript:;" style\x3d"position:absolute;top:-990px;" onclick\x3d"AdfPage.PAGE.getAutoDismissalManager().dismiss()"\x3e'+
g+"\x3c/a\x3e";f=b.createElement("div");e[4].appendChild(f)}e[3].innerHTML="\x26#160;";e[5].innerHTML="\x26#160;";e[7].innerHTML="\x26#160;";this.SetContentParent(f);b=b.createElement("div");b.setAttribute("role","presentation");AdfDomUtils.addCSSClassName(b,AdfDhtmlPopupWindow._POPUP_TAIL_STYLECLASS);d.appendChild(b);this._tailElement=b;b=AdfDhtmlPopupSelector;AdfDomUtils.addCSSClassName(d,a.getStyleClass(AdfDhtmlPopupSelector._STYLECLASS));AdfDomUtils.addCSSClassName(e[0],a.getStyleClass(b._HEADER_START_STYLECLASS));
AdfDomUtils.addCSSClassName(e[1],a.getStyleClass(b._HEADER_STYLECLASS));AdfDomUtils.addCSSClassName(e[2],a.getStyleClass(b._HEADER_END_STYLECLASS));AdfDomUtils.addCSSClassName(e[3],a.getStyleClass(b._CONTENT_START_STYLECLASS));AdfDomUtils.addCSSClassName(e[4],a.getStyleClass(b._CONTENT_STYLECLASS));AdfDomUtils.addCSSClassName(e[5],a.getStyleClass(b._CONTENT_END_STYLECLASS));AdfDomUtils.addCSSClassName(e[6],a.getStyleClass(b._FOOTER_START_STYLECLASS));AdfDomUtils.addCSSClassName(e[7],a.getStyleClass(b._FOOTER_STYLECLASS));
AdfDomUtils.addCSSClassName(e[8],a.getStyleClass(b._FOOTER_END_STYLECLASS));return d};AdfDhtmlPopupSelector.prototype.SetContentParent=function(a){this._contentElement=a};AdfDhtmlPopupSelector.prototype.GetContentParent=function(){return this._contentElement};AdfDhtmlPopupSelector.prototype.GetAnimationDurationSkinProperty=function(){return".AFPopupSelector-tr-open-animation-duration"};AdfDhtmlPopupSelector.prototype.GetAnimateSkinProperty=function(){return".AFPopupSelector-tr-animate"};
AdfDhtmlPopupSelector.prototype.setAccessibleAttrs=function(a){var b=this.getElement();b.setAttribute("role","dialog");var d=a[AdfDhtmlPopupHints.ARIA_LABEL];d||(d=AdfPage.PAGE.getLookAndFeel().getTranslatedString("af_popup.LABEL_ARIA"));b.setAttribute("aria-label",d);a=page.findComponent(a[AdfDhtmlPopupHints.COMPONENT_CLIENT_ID]);AdfAssert.assert(null!=a,"Cannot show a popup element without a valid component");a&&(a=AdfRichUIPeer.CreateSubId(a.getClientId(),AdfDhtmlPopupSelector._CONTENT_ID),b.setAttribute("aria-describedby",
a))};
AdfDhtmlPopupSelector.prototype.show=function(a){if(a&&a[AdfDhtmlPopupHints.ALIGN]&&!a[AdfDhtmlPopupHints.ALIGN_ELEMENT]){var b=a[AdfRichPopup.HINT_LAUNCH_ID];b&&(a[AdfRichPopup.HINT_ALIGN_ID]=b,a[AdfDhtmlPopupHints.ALIGN_ELEMENT]=AdfAgent.AGENT.getElementById(b))}a&&a[AdfDhtmlPopupHints.ALIGN_ELEMENT]&&!a[AdfDhtmlPopupHints.ALIGN]&&(a[AdfDhtmlPopupHints.ALIGN]=AdfRichPopup.ALIGN_AFTER_START);a&&a[AdfRichPopup.HINT_TAIL]&&a[AdfRichPopup.HINT_TAIL]!=AdfRichPopup.TAIL_NONE?(this._tailPosition=b=this.getInitialPopupTailPosition(a[AdfDhtmlPopupHints.ALIGN]),
AdfDomUtils.addCSSClassName(this._tailElement,b),b=a[AdfRichPopup.HINT_TAIL].charAt(0).toUpperCase()+a[AdfRichPopup.HINT_TAIL].substring(1),AdfDomUtils.addCSSClassName(this.getElement(),"AFPopupTail"+b)):this._tailElement=null;AdfDhtmlPopupSelector.superclass.show.call(this,a)};
function AdfInputComboboxListOfValuesWindow(){this.Init()}AdfObject.createSubclass(AdfInputComboboxListOfValuesWindow,AdfDhtmlPopupSelector);AdfInputComboboxListOfValuesWindow.InitClass=function(){this._STYLECLASS="af|inputComboboxListOfValues::dropdown-popup";this._CONTENT_STYLECLASS="af|inputComboboxListOfValues::dropdown-popup-content";this._DROPDOWN_CONTENT_ID="_afrDropDownContent";this._POPUP_SEARCH_SUBID="_afrPopupSearch";this._STRETCH_DROPDOWN_TABLE="af|inputComboboxListOfValues-tr-stretch-dropdown-table"};
AdfInputComboboxListOfValuesWindow.prototype.CreateDomElement=function(){var a=AdfPage.PAGE,b=a.getLookAndFeel(),d=a.getDomDocument(),a=d.createElement("div");AdfDomUtils.addCSSClassName(a,b.getStyleClass(AdfInputComboboxListOfValuesWindow._STYLECLASS));d=d.createElement("div");AdfDomUtils.addCSSClassName(d,b.getStyleClass(AdfInputComboboxListOfValuesWindow._CONTENT_STYLECLASS));a.appendChild(d);this.SetContentParent(d);return a};
AdfInputComboboxListOfValuesWindow.prototype.DoShow=function(a){AdfInputComboboxListOfValuesWindow.superclass.DoShow.call(this,a);var b=a=a[AdfDhtmlPopupHints.ALIGN_ELEMENT];AdfAssert.assertDomNode(b,"input combobox list of values popup alignment element");"INPUT"==b.tagName&&(a=b.parentNode);AdfAssert.assertDomElement(a,"SPAN");a=Math.max(100,a.offsetWidth-2);var b=this.getPopupClientId(),d=AdfPage.PAGE.findComponent(b).getParent().getClientId();AdfAssert.assertString(d,"input combobox list of values id");
if(b=AdfPage.PAGE.findComponent(d+AdfInputComboboxListOfValuesWindow._DROPDOWN_CONTENT_ID))d=AdfPage.PAGE.getLookAndFeel().getSkinProperty(AdfInputComboboxListOfValuesWindow._STRETCH_DROPDOWN_TABLE),AdfAssert.assertPrototype(b,AdfUIComponent),d&&"true"==d?b.getPeer().setInlineStyleProperty(b,"min-width",a+"px"):b.getPeer().setInlineStyleProperty(b,"width",a+"px"),AdfPage.PAGE.doResizeNotify(b);else if(b=AdfPage.PAGE.findComponent(d+AdfInputComboboxListOfValuesWindow._POPUP_SEARCH_SUBID))AdfAssert.assertPrototype(b,
AdfUIComponent),b.getPeer().setInlineStyleProperty(b,"width",a+"px")};AdfInputComboboxListOfValuesWindow.prototype.ShouldHideOnClip=function(){return!1};
function AdfDhtmlNoteWindowPopupSelector(a){this.Init(a)}AdfObject.createSubclass(AdfDhtmlNoteWindowPopupSelector,AdfDhtmlPopupSelector);
AdfDhtmlNoteWindowPopupSelector.InitClass=function(){this._STYLE_CLASS="AFNoteWindow";this._RIGHT_STYLE_CLASS="AFNoteWindowRight";this._CONE_STYLE_CLASS="AFNoteWindowCone";this._CONE_STYLE_CLASS_TR="AFNoteWindowConeTR";this._CONE_STYLE_CLASS_BR="AFNoteWindowConeBR";this._CONE_STYLE_CLASS_BL="AFNoteWindowConeBL";this._CONE_BORDER_STYLE_CLASS="AFNoteWindowConeBorder";this._CONE_BORDER_RIGHT_STYLE_CLASS="AFNoteWindowConeBorderRight";this._CONTENT_STYLE_CLASS="AFNoteWindowContent";this._CONTENT_END_ID=
"endContent"};AdfDhtmlNoteWindowPopupSelector.prototype.Init=function(a){AdfDhtmlNoteWindowPopupSelector.superclass.Init.call(this);this._autoDismissType=a;this.setShadowAnchor(this.GetContentParent())};AdfDhtmlNoteWindowPopupSelector.prototype.setAccessibleAttrs=function(a){var b=this.getElement();b.setAttribute("role","tooltip");var d=null;a&&(d=a[AdfRichPopup.HINT_LAUNCH_ID])&&(a=AdfAgent.AGENT.getElementById(d))&&a.setAttribute("aria-describedby",b.id)};
AdfDhtmlNoteWindowPopupSelector.prototype.announceOpeningViaLiveRegion=function(a){a=AdfPage.PAGE.getLookAndFeel();var b=AdfPage.PAGE.getDocumentClientId(),b=AdfRichUIPeer.CreateSubId(b,AdfDhtmlDocumentPeer._GLOBAL_LIVE_CONTAINER_ID),b=AdfAgent.AGENT.getElementById(b),d=AdfPage.PAGE.getDomWindow().AdfSafariMobileAgent&&AdfAgent.AGENT instanceof AdfSafariMobileAgent?"AFTooltipLiveTextMobile":"AFTooltipLiveText";a=a.getTranslatedString(d);AdfAgent.AGENT.setTextContent(b,a)};
AdfDhtmlNoteWindowPopupSelector.prototype.removeAccessibleAttrs=function(){var a=this.getLaunchSourceId();a&&(a=AdfAgent.AGENT.getElementById(a))&&a.removeAttribute("aria-describedby");a=AdfPage.PAGE.getDocumentClientId();a=AdfRichUIPeer.CreateSubId(a,AdfDhtmlDocumentPeer._GLOBAL_LIVE_CONTAINER_ID);a=AdfAgent.AGENT.getElementById(a);AdfAgent.AGENT.setTextContent(a,"")};
AdfDhtmlNoteWindowPopupSelector.prototype.show=function(a){var b=null;a&&(b=a[AdfRichPopup.HINT_LAUNCH_ID]);b&&null==AdfAgent.AGENT.getElementById(b)&&(AdfLogger.LOGGER.warning("Attempting to show noteWindow but lauch element is not present."),b=a[AdfRichPopup.HINT_LAUNCH_ID]=null);b&&(a[AdfDhtmlPopupHints.ALIGN_ELEMENT]||(a[AdfRichPopup.HINT_ALIGN_ID]=b,a[AdfDhtmlPopupHints.ALIGN_ELEMENT]=AdfAgent.AGENT.getElementById(b)),b=AdfPage.PAGE.findComponent(b))&&(b.addEventListener(AdfUIInputEvent.KEY_UP_EVENT_TYPE,
this._launchSourceHandleComponentKeyUp,this),b.addEventListener(AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,this._launchSourceHandleComponentKeyDown,this));AdfDhtmlNoteWindowPopupSelector.superclass.show.call(this,a)};
AdfDhtmlNoteWindowPopupSelector.prototype.hide=function(){var a=AdfPage.PAGE,b=this.getLaunchSourceId();b&&(a=a.findComponent(b))&&(a.removeEventListener(AdfUIInputEvent.KEY_UP_EVENT_TYPE,this._launchSourceHandleComponentKeyUp,this),a.removeEventListener(AdfUIInputEvent.KEY_DOWN_EVENT_TYPE,this._launchSourceHandleComponentKeyDown,this));AdfDhtmlNoteWindowPopupSelector.superclass.hide.call(this)};
AdfDhtmlNoteWindowPopupSelector.createTextDom=function(a){var b=null;0==a.indexOf("\x3chtml\x3e")&&a.lastIndexOf("\x3c/html\x3e")==a.length-7?b=AdfDomUtils.cleanHtml(AdfPage.PAGE.getDocument(),a.substring(6,a.length-7)):(b=AdfPage.PAGE.getDocument().createElement("div"),AdfAgent.AGENT.setTextContent(b,a));return b};
AdfDhtmlNoteWindowPopupSelector.prototype.CreateDomElement=function(){var a=AdfAgent.AGENT,b=AdfPage.PAGE,d=b.getDomDocument(),e=d.createElement("div"),f=this.CreateTable(1,3);f.role="presentation";e.appendChild(f);var f=f.rows[0].cells,g=f[0],h=f[2];g.onclick=h.onclick=this.createCallback(this._onClickConeCell);a.addBubbleEventListener(g,"focusin",AdfAgent.eatEventCallback);a.addBubbleEventListener(g,"focus",AdfAgent.eatEventCallback);a.addBubbleEventListener(h,"focusin",AdfAgent.eatEventCallback);
a.addBubbleEventListener(h,"focus",AdfAgent.eatEventCallback);this._autoDismissType==AdfDhtmlPopupHints.AUTODISMISS_MOUSEOUT&&(g.onmouseover=h.onmouseover=this.createCallback(this._onMouseOverConeCell),g.onmouseout=h.onmouseout=this.createCallback(this._onMouseOutConeCell));a=f[1];this.NeedsCloseLink()&&(a=d.createElement("div"),f[1].appendChild(a),b=b.getLookAndFeel().getTranslatedString("af_popup.TIP_DISMISS"),a.innerHTML='\x3ca href\x3d"javascript:;" style\x3d"position:absolute;top:-990px;" onclick\x3d"AdfPage.PAGE.getAutoDismissalManager().dismiss()"\x3e'+
b+"\x3c/a\x3e",b=d.createElement("div"),f[1].appendChild(b),a=b);f[2].className="";f[2].innerHTML="\x26#160;";f[1].className=AdfDhtmlNoteWindowPopupSelector._STYLE_CLASS;f[0].className=AdfDhtmlNoteWindowPopupSelector._CONE_BORDER_STYLE_CLASS;this._coneElement=d.createElement("div");this.SetContentParent(a);return e};AdfDhtmlNoteWindowPopupSelector.prototype.GetAnimationDurationSkinProperty=function(){return".AFNoteWindow-tr-open-animation-duration"};
AdfDhtmlNoteWindowPopupSelector.prototype.GetAnimateSkinProperty=function(){return".AFNoteWindow-tr-animate"};
AdfDhtmlNoteWindowPopupSelector.prototype.setPosition=function(a,b){var d=this.GetPositionManagerIndex();if(0<=d&&(d=AdfPage.PAGE.getPositionManager().getComputedBehavior(d))){var e=d.verticalBehavior.floatingElementAnchor,f=d.horizontalBehavior.floatingElementAnchor,d=this.GetContentParent().parentNode.parentNode.parentNode,d="TABLE"==d.tagName?d.rows[0].cells:d.parentNode.rows[0].cells,g=d[1],f=f==AdfDhtmlPositionManager.RIGHT,e=e==AdfDhtmlPositionManager.BOTTOM,h=0,k=2;AdfPage.PAGE.getLocaleContext().isRightToLeft()?
(h=d[2],k=d[0]):(h=d[0],k=d[2]);f?(h.className="",h.innerHTML="\x26#160;",g.className=AdfDhtmlNoteWindowPopupSelector._RIGHT_STYLE_CLASS,k.className=AdfDhtmlNoteWindowPopupSelector._CONE_BORDER_RIGHT_STYLE_CLASS,k.style.verticalAlign=e?"bottom":"top",this._coneElement.className=e?AdfDhtmlNoteWindowPopupSelector._CONE_STYLE_CLASS_BR:AdfDhtmlNoteWindowPopupSelector._CONE_STYLE_CLASS_TR,k.innerHTML="",k.appendChild(this._coneElement)):(k.className="",k.innerHTML="\x26#160;",g.className=AdfDhtmlNoteWindowPopupSelector._STYLE_CLASS,
h.className=AdfDhtmlNoteWindowPopupSelector._CONE_BORDER_STYLE_CLASS,h.style.verticalAlign=e?"bottom":"top",this._coneElement.className=e?AdfDhtmlNoteWindowPopupSelector._CONE_STYLE_CLASS_BL:AdfDhtmlNoteWindowPopupSelector._CONE_STYLE_CLASS,h.innerHTML="",h.appendChild(this._coneElement))}AdfDhtmlNoteWindowPopupSelector.superclass.setPosition.call(this,a,b)};
AdfDhtmlNoteWindowPopupSelector.prototype._onClickConeCell=function(a){var b=AdfAgent.AGENT;a=a||b.getDomWindow().event;var d=b.getMousePosition(a);AdfPage.PAGE.getAutoDismissalManager().dismiss(this.getElement().parentNode);var e=AdfPage.PAGE.getDocument();if(d=e.elementFromPoint?e.elementFromPoint(d.x,d.y):b.elementFromPagePoint(d.x,d.y))e=b.copyEvent(a),b.dispatchEvent(d,e),null!=d.focus&&AdfFocusUtils.focusElement(d),b.eatEvent(a)};
AdfDhtmlNoteWindowPopupSelector.prototype._onMouseOverConeCell=function(a){this._onMOConeCellTimeoutCallback||(this._onMOConeCellTimeoutCallback=this.createCallback(this._onMOConeCellTimeout));a=AdfPage.PAGE.getDomWindow();this._mouseOverTimeout&&a.clearTimeout(this._mouseOverTimeout);this._mouseOverTimeout=a.setTimeout(this._onMOConeCellTimeoutCallback,500)};AdfDhtmlNoteWindowPopupSelector.prototype._onMOConeCellTimeout=function(){delete this._mouseOverTimeout;AdfPage.PAGE.getAutoDismissalManager().dismiss(this.getElement().parentNode)};
AdfDhtmlNoteWindowPopupSelector.prototype._onMouseOutConeCell=function(a){a=AdfPage.PAGE.getDomWindow();this._mouseOverTimeout&&(a.clearTimeout(this._mouseOverTimeout),delete this._mouseOverTimeout)};AdfDhtmlNoteWindowPopupSelector.prototype.activate=function(){var a=this.GetFocusOnOpen();this.SetFocusOnOpen(!0);this.FocusOnFirstElement();this.SetFocusOnOpen(a)};
AdfDhtmlNoteWindowPopupSelector.prototype.HandleKeyNavigation=function(a){var b=this.getLaunchSourceId();if(b){var d=AdfAgent.AGENT;if(b=AdfPage.PAGE.findComponent(b))b.focus(),d.eatEvent(a)}};AdfDhtmlNoteWindowPopupSelector.prototype._launchSourceHandleComponentKeyDown=function(a){a.isCanceled()||a.getKeyCode()!=AdfKeyStroke.F6_KEY||(AdfAgent.AGENT.preventDefault(a.getNativeEvent()),this.activate&&(this.activate(),a.cancel(),a.stopBubbling()))};
AdfDhtmlNoteWindowPopupSelector.prototype._launchSourceHandleComponentKeyUp=function(a){if(!a.isCanceled()){var b=a.getNativeEvent(),d=a.getKeyCode();b.ctrlKey&&b.altKey&&d==AdfKeyStroke.W_KEY&&this.activate&&(this.activate(),a.cancel(),a.stopBubbling())}};
AdfDhtmlNoteWindowPopupSelector.prototype.autoSize=function(){AdfDhtmlNoteWindowPopupSelector.superclass.autoSize.call(this);var a=this.GetMaxWidth();if(a&&this.getWidth()>=a){var b=this.getContent();if(b=AdfDomUtils.getFirstElementMatch(b,!1,AdfDhtmlNoteWindowPopupSelector._match)){b=b.style;b.overflow="hidden";var d=this._coneElement;AdfAgent.AGENT.getPlatform()==AdfAgent.IE_PLATFORM&&d&&(b.width=a-d.offsetWidth+"px")}}};
AdfDhtmlNoteWindowPopupSelector._match=function(a){return"DIV"==a.tagName&&AdfDomUtils.containsCSSClassName(a,AdfDhtmlNoteWindowPopupSelector._CONTENT_STYLE_CLASS)?!0:!1};AdfDhtmlNoteWindowPopupSelector._focusMatch=function(a){return"DIV"==a.tagName&&(a=AdfAgent.AGENT.getComputedStyle(a))&&"hidden"!=a.visibility&&"none"!=a.display?!0:!1};AdfDhtmlNoteWindowPopupSelector.prototype.GetFocusContent=function(){var a=this.getContent();return AdfDomUtils.getFirstElementMatch(a,!1,AdfDhtmlNoteWindowPopupSelector._focusMatch)};
function AdfDhtmlPopupMenu(){this.Init()}AdfObject.createSubclass(AdfDhtmlPopupMenu,AdfDhtmlPopupWindow);AdfDhtmlPopupMenu.InitClass=function(){AdfDhtmlPopupMenu._POPUP_STYLE_CLASS="AFPopupMenuPopup";AdfDhtmlPopupMenu._CONTENT_STYLE_CLASS="AFPopupMenuContent"};AdfDhtmlPopupMenu.prototype.Init=function(){AdfDhtmlPopupMenu.superclass.Init.call(this);this.setShadowAnchor(this._mainElement)};
AdfDhtmlPopupMenu.prototype.CreateDomElement=function(){var a=AdfPage.PAGE,b=a.getDomDocument(),d=b.createElement("div"),e=b.createElement("div"),f=b.createElement("div");AdfDomUtils.addCSSClassName(e,AdfDhtmlPopupMenu._POPUP_STYLE_CLASS);AdfDomUtils.addCSSClassName(f,AdfDhtmlPopupMenu._CONTENT_STYLE_CLASS);d.appendChild(e);this.NeedsCloseLink()&&(b=b.createElement("div"),e.appendChild(b),a=a.getLookAndFeel().getTranslatedString("af_menu.TIP_DISMISS"),b.innerHTML='\x3ca href\x3d"javascript:;" style\x3d"position:absolute;top:-990px;" onclick\x3d"AdfMenuUtils.setMenuBarAutoOpenMode(false);AdfMenuUtils.closeAllMenus(true);"\x3e'+
a+"\x3c/a\x3e");e.appendChild(f);this._mainElement=e;this._contentElement=f;return d};AdfDhtmlPopupMenu.prototype.GetContentParent=function(){return this._contentElement};AdfDhtmlPopupMenu.prototype.CreateShadow=function(a){this.GetAnimationDuration()&&!a||AdfDhtmlShadowDecorator.createShadowDecorator(this.getShadowAnchor(),this.getElement(),!0)};AdfDhtmlPopupMenu.prototype.DoResizeNotifyDom=function(a){};AdfDhtmlPopupMenu.prototype.SaveScrollValues=function(a){};
AdfDhtmlPopupMenu.prototype.RestoreScrollValues=function(a){};AdfDhtmlPopupMenu.prototype.GetAnimationDurationSkinProperty=function(){return"af|menu-tr-open-animation-duration"};AdfDhtmlPopupMenu.prototype.GetAnimateSkinProperty=function(){return"af|menu-tr-animate"};AdfDhtmlPopupMenu.prototype.GetLaunchSourceElement=function(){var a=AdfMenuUtils.GetLastOpenedRootMenuId();return a?AdfAgent.AGENT.getElementById(a):null};AdfDhtmlPopupMenu.prototype.GetFocusContent=function(){return this.getElement()};
AdfDhtmlPopupMenu.prototype.ShouldHideOnClip=function(){return!1};AdfDhtmlPopupMenu.prototype.activate=function(){this.FocusOnFirstElement()};
function AdfDhtmlPopupLayer(){this.Init()}AdfObject.createSubclass(AdfDhtmlPopupLayer,AdfDhtmlPopupWindow);AdfDhtmlPopupLayer.HINT_ANIMATE_FRAME_METHOD="animateFrameMethod";AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY="animateVertically";AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY="animateHorizontally";AdfDhtmlPopupLayer.HINT_ANIMATE_CLOSED="animateClosed";AdfDhtmlPopupLayer.HINT_ANIMATION_DURATION_OPEN_SKIN_PROPERTY="animationDurationOpen";
AdfDhtmlPopupLayer.HINT_ANIMATION_DURATION_CLOSE_SKIN_PROPERTY="animationDurationClose";AdfDhtmlPopupLayer.HINT_ANIMATE_MIN_WIDTH="animateMinWidth";
AdfDhtmlPopupLayer.InitClass=function(){this._ANIMATE_DIRECTION_MAP={};this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_AFTER_START]=AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_AFTER_END]=AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_BEFORE_START]=AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_BEFORE_END]=AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_END_AFTER]=
AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_END_BEFORE]=AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_START_AFTER]=AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_START_BEFORE]=AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_OVERLAP_END_BEFORE]=AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY;this._ANIMATE_DIRECTION_MAP[AdfRichPopup.ALIGN_OVERLAP_START_BEFORE]=
AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY};AdfDhtmlPopupLayer.prototype.Init=function(){AdfDhtmlPopupLayer.superclass.Init.call(this)};AdfDhtmlPopupLayer.prototype.CreateDomElement=function(){var a=AdfPage.PAGE.getDomDocument().createElement("div");this.SetContentParent(a);return a};AdfDhtmlPopupLayer.prototype.SetContentParent=function(a){this._contentElement=a};AdfDhtmlPopupLayer.prototype.GetContentParent=function(){return this._contentElement};AdfDhtmlPopupLayer.prototype.HasShadow=function(){return!1};
AdfDhtmlPopupLayer.prototype.ShouldHideOnClip=function(){return!1};AdfDhtmlPopupLayer.prototype.shouldInvertPosition=function(){return!1};AdfDhtmlPopupLayer.prototype._getAnimationDirection=function(a){return(a=a[AdfRichPopup.HINT_ALIGN])?AdfDhtmlPopupLayer._ANIMATE_DIRECTION_MAP[a]:null};AdfDhtmlPopupLayer.prototype.GetCloseAnimationDuration=function(){return this._animationCloseDuration};AdfDhtmlPopupLayer.prototype.GetAnimationDurationSkinProperty=function(a){return a[AdfDhtmlPopupLayer.HINT_ANIMATION_DURATION_OPEN_SKIN_PROPERTY]};
AdfDhtmlPopupLayer.prototype.GetCloseAnimationDurationSkinProperty=function(a){return a[AdfDhtmlPopupLayer.HINT_ANIMATION_DURATION_CLOSE_SKIN_PROPERTY]};
AdfDhtmlPopupLayer.prototype.AnimateUsingWrapper=function(a,b,d){var e=this.getElement(),f=e.ownerDocument.createElement("div"),g=f.style,h=e.style,k=e.offsetHeight,l=e.offsetWidth,m=parseInt(h.left),n=parseInt(h.top),p=this._getAnimationDirection(b),q=b[AdfDhtmlPopupLayer.HINT_ANIMATE_MIN_WIDTH],r=this._getAnchorProperties();null==q&&(q=1);r.isRight?(g.left=d?m+l-q+"px":h.left,h.left="0px"):(g.left=h.left,g.right=h.right,h.left="",h.right="0px");g.overflow="hidden";g.position="absolute";var t={};
p==AdfDhtmlPopupLayer.HINT_ANIMATE_HORIZONTALLY?(g.height=k+"px",g.top=h.top):(r.isBottom?(t.top=n,g.top=n+k+1+"px"):g.top=h.top,g.height="1px",t.height=k);h.top="0px";p==AdfDhtmlPopupLayer.HINT_ANIMATE_VERTICALLY?g.width=l+"px":d?(g.width=q+"px",t.width=l):(g.width=l+"px",t.width=q);g.zIndex=h.zIndex;e.parentNode.replaceChild(f,e);f.appendChild(e);h.visibility="";r.isRight&&(t.left=d?m:m+l-q);AdfPage.PAGE.prepareMaskingFrame();b=b[AdfDhtmlPopupLayer.HINT_ANIMATE_FRAME_METHOD];b||(b=AdfDhtmlElementAnimator.FRAME_METHOD_CONSTANT_SPEED);
this._animator=AdfDhtmlElementAnimator.animate(b,a,[{element:f,properties:t}],null,d?AdfDhtmlPopupWindow.OpenAnimationComplete:AdfDhtmlPopupWindow.CloseAnimationComplete,{wrapper:f,myself:this})};
AdfDhtmlPopupLayer.prototype.show=function(a){this._hints=a;var b=AdfPage.PAGE;if(b.isAnimationEnabled()&&a[AdfDhtmlPopupLayer.HINT_ANIMATE_CLOSED]){var d=this.GetCloseAnimationDurationSkinProperty(a);d&&(b=parseInt(b.getLookAndFeel().getSkinProperty(d)),0<b&&(this._animationCloseDuration=b))}AdfDhtmlPopupLayer.superclass.show.call(this,a)};
AdfDhtmlPopupLayer.prototype.hide=function(){if(!this._isHiding){var a=AdfPage.PAGE.findComponent(this._componentId);if(a&&a.getPeer().canHide&&!a.getPeer().canHide())return}var b="true"==this._closeHandlerParam.contentDom.getAttribute(AdfDhtmlPopupWindow.__REPLACEDOM_EXPANDO);this._isHiding=!0;this._animator&&(this._animator.stop(),a=this.getElement().parentNode,AdfDhtmlPopupWindow.OpenAnimationComplete({wrapper:a,myself:this}));var d=AdfPage.PAGE,a=d.findComponent(this._componentId);d.getAutoDismissalManager().removeBehavior(a);
this._isRestoring(a)||!AdfFocusUtils.containsFocus(this.getElement())||AdfFocusUtils.isFocusChangePending()||this._restoreFocus();this.getHints()[AdfDhtmlPopupLayer.HINT_ANIMATE_CLOSED]&&this._animationCloseDuration&&1!=b?this.AnimateClosing(this.getHints()):this.ClosedPopup()};
AdfDhtmlPopupLayer.prototype.ClosedPopup=function(){var a=AdfPage.PAGE,b=this._closeHandler;b&&(delete this._closeHandler,b(this._closeHandlerParam),delete this._closeHandlerParam);this.destroy();delete this._isHiding;a.__perfTimings(!0,!1,!0,"popup hidden")};AdfDhtmlPopupLayer.prototype.getHints=function(){return this._hints};AdfDhtmlPopupLayer.prototype._getComponentFromHints=function(a){this._componentId=a=a[AdfDhtmlPopupHints.COMPONENT_CLIENT_ID];return AdfPage.PAGE.findComponent(a)};
AdfDhtmlPopupLayer.prototype.restoreAutodismiss=function(){if(this._autoDismissRemoved){var a=this.getHints();AdfPage.PAGE.getAutoDismissalManager().addBehavior(this._getComponentFromHints(a),a);this._autoDismissRemoved=!1}};AdfDhtmlPopupLayer.prototype.removeAutodismiss=function(){if(!this._autoDismissRemoved){this._autoDismissRemoved=!0;var a=this.getHints();AdfPage.PAGE.getAutoDismissalManager().removeBehavior(this._getComponentFromHints(a))}};
function AdfDhtmlTooltipManager(){this.Init()}AdfObject.createSubclass(AdfDhtmlTooltipManager);AdfDhtmlTooltipManager.prototype.Init=function(){AdfDhtmlTooltipManager.superclass.Init.call(this)};AdfDhtmlTooltipManager._handleMouseMove=function(a){var b=AdfDhtmlTooltipManager._theInstance;b._rollOverBoundsChecker&&(a=AdfAgent.AGENT.getMousePosition(a),b._checkMouseExit(a.x,a.y,b._rollOverBoundsChecker))};
AdfDhtmlTooltipManager.prototype.showRollOverLabel=function(a){AdfAssert.assertDomElement(a);if(a!=this._currRollOverTarget){this._currRollOverTarget=a;var b=AdfAgent.AGENT,d=b.getDomDocument();b.addBubbleEventListener(d,"mousemove",AdfDhtmlTooltipManager._handleMouseMove);var e=b.getElementPosition(a),d=e.y,e=e.x;null!=this._offsetLeft&&(d-=this._offsetTop,e-=this._offsetLeft);var f=this._getRollOverWindow(),g=a.cloneNode(!0);b.modifyIdsInDomSubTree(g,!1,"_afrtt");f.setContent(g);f.show(d,e);if(null==
this._offsetLeft){var h=b.getComputedStyle(f.getElement()),g=this._offsetLeft=AdfAgent.getCSSLengthAsInt(h.borderLeftWidth)+AdfAgent.getCSSLengthAsInt(h.paddingLeft),h=this._offsetTop=AdfAgent.getCSSLengthAsInt(h.borderTopWidth)+AdfAgent.getCSSLengthAsInt(h.paddingTop);f.setPosition(d-h,e-g)}a=b.getElementPageBounds(a);a.notify=this._hideRollOverCallback;this._rollOverBoundsChecker=a}};
AdfDhtmlTooltipManager.prototype.hideRollOverLabel=function(){var a=this._getRollOverWindow();a&&(a.hide(),a.destroy(),this._rollOverWindow=null);this._rollOverBoundsChecker=this._currRollOverTarget=null;var a=AdfAgent.AGENT,b=a.getDomDocument();a.removeBubbleEventListener(b,"mousemove",AdfDhtmlTooltipManager._handleMouseMove)};
AdfDhtmlTooltipManager.prototype._getRollOverWindow=function(){var a=this._rollOverWindow,b=AdfAgent.getAgent();if(a){var d=b.getDomDocument(),e=a.getElement();AdfDomUtils.isAncestor(d,e)||(a.hide(),a.destroy(),this._rollOverWindow=a=null)}a||(a=new AdfDhtmlTooltip,d=this.createCallback(this._redistributeRollOverCallback),e=a.getElement(),e.onmousedown=d,e.onmouseup=d,e.onclick=d,e.ondblclick=d,e.oncontextmenu=d,b.disableUserSelect(e),this._rollOverWindow=a);return a};
AdfDhtmlTooltipManager.prototype._hideRollOverCallback=function(a){AdfDhtmlTooltipManager.getInstance().hideRollOverLabel()};
AdfDhtmlTooltipManager.prototype._redistributeRollOverCallback=function(a){a||(a=window.event);if(this._currRollOverTarget){var b=AdfAgent.AGENT,d=this._findDispatchEventTarget(a);if(d){var e=b.copyEvent(a),f="click"==a.type&&"A"==b.getNodeName(d)&&d.href&&""!=d.href;if(f){var g=d.href;"#"==g.charAt(g.length-1)&&-1!=g.indexOf(b.getDomWindow().location.pathname)&&(f=!1)}f||b.eatEvent(a);b.dispatchEvent(d,e)}return!0}};
AdfDhtmlTooltipManager.prototype._findDispatchEventTarget=function(a){var b=AdfAgent.getAgent(),d=b.getEventTarget(a),e=d.id,f=a=this._currRollOverTarget;if(a){for(var g=this._rollOverWindow.getElement();d!=g&&(null==e||""==e);){d=d.parentNode;if(null==d)break;e=d.id}null!=e&&""!=e&&(e=e.replace(/::_afrtt/,""),f=b.getElementById(e))}f||(f=a);return f};AdfDhtmlTooltipManager.prototype._checkMouseExit=function(a,b,d){(a<d.left||a>d.right||b<d.top||b>d.bottom)&&d.notify()};
AdfDhtmlTooltipManager.getInstance=function(){null==this._theInstance&&(this._theInstance=new AdfDhtmlTooltipManager);return this._theInstance};
function AdfDhtmlTooltip(){this.Init()}AdfObject.createSubclass(AdfDhtmlTooltip,AdfAbstractFloatingElement);AdfDhtmlTooltip.prototype.Init=function(){AdfDhtmlTooltip.superclass.Init.call(this,AdfDhtmlZOrderManager.FLOATINGTYPE_TOOLTIP);this.setElement(this._createHtml());this.hide()};AdfDhtmlTooltip.prototype._createHtml=function(){var a=document.createElement("div");a.className="AFTooltip";return this._contentElement=a};
AdfDhtmlTooltip.prototype.setContent=function(a){var b=this._contentElement;b.firstChild&&b.removeChild(b.firstChild);b.appendChild(a);a=a.style;a.textDecoration="none";a.display="block";a.width&&(a.width="")};
AdfDhtmlTooltip.prototype.show=function(a,b){AdfDhtmlTooltip.superclass.show.call(this);this.setPosition(a,b);this.raiseToFront();var d=this.getElement();AdfDhtmlShadowDecorator.hasShadowDecorator(d)?(AdfDhtmlShadowDecorator.moveShadowDecorator(d),AdfDhtmlShadowDecorator.showShadowDecorator(d,!0)):AdfDhtmlShadowDecorator.createShadowDecorator(d,d.parentNode)};
AdfDhtmlTooltip.prototype.hide=function(){AdfDhtmlTooltip.superclass.hide.call(this);var a=this.getElement();AdfDhtmlShadowDecorator.hasShadowDecorator(a)&&AdfDhtmlShadowDecorator.removeShadowDecorator(a)};